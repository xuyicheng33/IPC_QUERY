import{j as i,B as h,M as u}from"./AppProviders.js";import{A as g,S as p,T as f}from"./api.js";function S({message:r,actionLabel:t,onAction:e}){return i.jsx(g,{severity:"error",variant:"outlined",icon:i.jsx(u,{name:"warning",size:18}),sx:{minHeight:120,alignItems:"center",justifyContent:"center"},children:i.jsxs(p,{spacing:1.5,children:[i.jsx(f,{variant:"body2",children:r}),t&&e?i.jsx("div",{children:i.jsx(h,{variant:"ghost",onClick:e,children:t})}):null]})})}function j(r){const t=String(r||"");return{optional:/\boptional\b/i.test(t),replace:/\breplace\b/i.test(t)}}function y(r){const t=String(r);if(!t)return[{text:"",hit:!1}];const e=[],o=/\b(optional|replace)\b/gi;let s=0,a=null;for(;(a=o.exec(t))!==null;){const l=a.index,n=l+a[0].length;l>s&&e.push({text:t.slice(s,l),hit:!1}),e.push({text:t.slice(l,n),hit:!0}),s=n}return s<t.length&&e.push({text:t.slice(s),hit:!1}),e.length?e:[{text:t,hit:!1}]}function x(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(r,t){const e=String(r||""),o=String(t||"").trim();if(!e)return[{text:"",hit:!1}];if(!o)return[{text:e,hit:!1}];const s=Array.from(new Set(o.split(/\s+/).map(n=>n.trim()).filter(n=>n.length>=2)));if(s.length===0)return[{text:e,hit:!1}];const a=new RegExp(`(${s.map(n=>x(n)).join("|")})`,"gi");return e.split(a).filter(n=>n.length>0).map(n=>({text:n,hit:s.some(c=>n.toLowerCase()===c.toLowerCase())}))}export{S as E,y as a,j as d,b as r};
