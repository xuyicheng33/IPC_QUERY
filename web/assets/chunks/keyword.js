import{j as s,M as h}from"./AppProviders.js";import{j as u}from"./urlState.js";import{A as g,S as p,T as f}from"./api.js";function S({message:r,actionLabel:t,onAction:e}){return s.jsx(g,{severity:"error",variant:"outlined",icon:s.jsx(h,{name:"warning",size:18}),sx:{minHeight:120,alignItems:"center",justifyContent:"center"},children:s.jsxs(p,{spacing:1.5,children:[s.jsx(f,{variant:"body2",children:r}),t&&e?s.jsx("div",{children:s.jsx(u,{variant:"ghost",onClick:e,children:t})}):null]})})}function y(r){const t=String(r||"");return{optional:/\boptional\b/i.test(t),replace:/\breplace\b/i.test(t)}}function b(r){const t=String(r);if(!t)return[{text:"",hit:!1}];const e=[],l=/\b(optional|replace)\b/gi;let i=0,a=null;for(;(a=l.exec(t))!==null;){const o=a.index,n=o+a[0].length;o>i&&e.push({text:t.slice(i,o),hit:!1}),e.push({text:t.slice(o,n),hit:!0}),i=n}return i<t.length&&e.push({text:t.slice(i),hit:!1}),e.length?e:[{text:t,hit:!1}]}function x(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(r,t){const e=String(r||""),l=String(t||"").trim();if(!e)return[{text:"",hit:!1}];if(!l)return[{text:e,hit:!1}];const i=Array.from(new Set(l.split(/\s+/).map(n=>n.trim()).filter(n=>n.length>=2)));if(i.length===0)return[{text:e,hit:!1}];const a=new RegExp(`(${i.map(n=>x(n)).join("|")})`,"gi");return e.split(a).filter(n=>n.length>0).map(n=>({text:n,hit:i.some(c=>n.toLowerCase()===c.toLowerCase())}))}export{S as E,b as a,y as d,w as r};
