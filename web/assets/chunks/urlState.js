import{l as nt,m as st,r as P,n as at,j as s,b as $,o as N,p as w,q as it,s as lt,t as ct,g as z,k as pt,v as E,a as W,u as T,w as dt,d as g,x as ut,B as gt,M as ft}from"./AppProviders.js";import{i as yt,b as k,s as C,B as mt,m as R,d as A,C as ht,c as B,a as M,P as vt}from"./CircularProgress.js";const xt=yt();function St(t){const{theme:o,name:e,props:r}=t;return!o||!o.components||!o.components[e]||!o.components[e].defaultProps?r:nt(o.components[e].defaultProps,r)}function bt({props:t,name:o,defaultTheme:e,themeId:r}){let n=st(e);return r&&(n=n[r]||n),St({theme:n,name:o,props:t})}const Ct=pt(),It=xt("div",{name:"MuiStack",slot:"Root"});function jt(t){return bt({props:t,name:"MuiStack",defaultTheme:Ct})}function Mt(t,o){const e=P.Children.toArray(t).filter(Boolean);return e.reduce((r,n,a)=>(r.push(n),a<e.length-1&&r.push(P.cloneElement(o,{key:`separator-${a}`})),r),[])}const At=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Pt=({ownerState:t,theme:o})=>{let e={display:"flex",flexDirection:"column",...N({theme:o},w({values:t.direction,breakpoints:o.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=it(o),n=Object.keys(o.breakpoints.values).reduce((i,l)=>((typeof t.spacing=="object"&&t.spacing[l]!=null||typeof t.direction=="object"&&t.direction[l]!=null)&&(i[l]=!0),i),{}),a=w({values:t.direction,base:n}),d=w({values:t.spacing,base:n});typeof a=="object"&&Object.keys(a).forEach((i,l,h)=>{if(!a[i]){const p=l>0?a[h[l-1]]:"column";a[i]=p}}),e=lt(e,N({theme:o},d,(i,l)=>t.useFlexGap?{gap:E(r,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${At(l?a[l]:t.direction)}`]:E(r,i)}}))}return e=ct(o.breakpoints,e),e};function Bt(t={}){const{createStyledComponent:o=It,useThemeProps:e=jt,componentName:r="MuiStack"}=t,n=()=>k({root:["root"]},i=>z(r,i),{}),a=o(Pt);return P.forwardRef(function(i,l){const h=e(i),f=at(h),{component:p="div",direction:y="column",spacing:b=0,divider:u,children:m,className:v,useFlexGap:x=!1,...L}=f,S={direction:y,spacing:b,useFlexGap:x},I=n();return s.jsx(a,{as:p,ownerState:S,ref:l,className:$(I.root,v),...L,children:u?Mt(m,u):m})})}function Rt(t){return z("MuiAlert",t)}const V=W("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function $t(t){return z("MuiIconButton",t)}const D=W("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),zt=t=>{const{classes:o,disabled:e,color:r,edge:n,size:a,loading:d}=t,c={root:["root",d&&"loading",e&&"disabled",r!=="default"&&`color${g(r)}`,n&&`edge${g(n)}`,`size${g(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return k(c,$t,o)},Tt=C(mt,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.root,e.loading&&o.loading,e.color!=="default"&&o[`color${g(e.color)}`],e.edge&&o[`edge${g(e.edge)}`],o[`size${g(e.size)}`]]}})(R(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:o=>!o.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),R(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(A()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),...Object.entries(t.palette).filter(A()).map(([o])=>({props:{color:o},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[o].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${D.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${D.loading}`]:{color:"transparent"}}))),kt=C("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Lt=P.forwardRef(function(o,e){const r=T({props:o,name:"MuiIconButton"}),{edge:n=!1,children:a,className:d,color:c="default",disabled:i=!1,disableFocusRipple:l=!1,size:h="medium",id:f,loading:p=null,loadingIndicator:y,...b}=r,u=dt(f),m=y??s.jsx(ht,{"aria-labelledby":u,color:"inherit",size:16}),v={...r,edge:n,color:c,disabled:i,disableFocusRipple:l,loading:p,loadingIndicator:m,size:h},x=zt(v);return s.jsxs(Tt,{id:p?u:f,className:$(x.root,d),centerRipple:!0,focusRipple:!l,disabled:i||p,ref:e,...b,ownerState:v,children:[typeof p=="boolean"&&s.jsx("span",{className:x.loadingWrapper,style:{display:"contents"},children:s.jsx(kt,{className:x.loadingIndicator,ownerState:v,children:p&&m})}),a]})}),wt=B(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),_t=B(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Wt=B(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Ot=B(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Ut=B(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ft=t=>{const{variant:o,color:e,severity:r,classes:n}=t,a={root:["root",`color${g(e||r)}`,`${o}${g(e||r)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return k(a,Rt,n)},Nt=C(vt,{name:"MuiAlert",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.root,o[e.variant],o[`${e.variant}${g(e.color||e.severity)}`]]}})(R(({theme:t})=>{const o=t.palette.mode==="light"?t.darken:t.lighten,e=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(A(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:o(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:e(t.palette[r].light,.9),[`& .${V.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(A(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:o(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${V.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(A(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),Et=C("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Vt=C("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Dt=C("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),q={success:s.jsx(wt,{fontSize:"inherit"}),warning:s.jsx(_t,{fontSize:"inherit"}),error:s.jsx(Wt,{fontSize:"inherit"}),info:s.jsx(Ot,{fontSize:"inherit"})},no=P.forwardRef(function(o,e){const r=T({props:o,name:"MuiAlert"}),{action:n,children:a,className:d,closeText:c="Close",color:i,components:l={},componentsProps:h={},icon:f,iconMapping:p=q,onClose:y,role:b="alert",severity:u="success",slotProps:m={},slots:v={},variant:x="standard",...L}=r,S={...r,color:i,severity:u,variant:x,colorSeverity:i||u},I=Ft(S),j={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...v},slotProps:{...h,...m}},[J,Z]=M("root",{ref:e,shouldForwardComponentProp:!0,className:$(I.root,d),elementType:Nt,externalForwardedProps:{...j,...L},ownerState:S,additionalProps:{role:b,elevation:0}}),[Q,K]=M("icon",{className:I.icon,elementType:Et,externalForwardedProps:j,ownerState:S}),[X,Y]=M("message",{className:I.message,elementType:Vt,externalForwardedProps:j,ownerState:S}),[U,F]=M("action",{className:I.action,elementType:Dt,externalForwardedProps:j,ownerState:S}),[tt,ot]=M("closeButton",{elementType:Lt,externalForwardedProps:j,ownerState:S}),[et,rt]=M("closeIcon",{elementType:Ut,externalForwardedProps:j,ownerState:S});return s.jsxs(J,{...Z,children:[f!==!1?s.jsx(Q,{...K,children:f||p[u]||q[u]}):null,s.jsx(X,{...Y,children:a}),n!=null?s.jsx(U,{...F,children:n}):null,n==null&&y?s.jsx(U,{...F,children:s.jsx(tt,{size:"small","aria-label":c,title:c,color:"inherit",onClick:y,...ot,children:s.jsx(et,{fontSize:"small",...rt})})}):null]})});function qt(t){return z("MuiTypography",t)}W("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ht={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Gt=ut(),Jt=t=>{const{align:o,gutterBottom:e,noWrap:r,paragraph:n,variant:a,classes:d}=t,c={root:["root",a,t.align!=="inherit"&&`align${g(o)}`,e&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return k(c,qt,d)},Zt=C("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.root,e.variant&&o[e.variant],e.align!=="inherit"&&o[`align${g(e.align)}`],e.noWrap&&o.noWrap,e.gutterBottom&&o.gutterBottom,e.paragraph&&o.paragraph]}})(R(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([o,e])=>o!=="inherit"&&e&&typeof e=="object").map(([o,e])=>({props:{variant:o},style:e})),...Object.entries(t.palette).filter(A()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),...Object.entries(t.palette?.text||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${g(o)}`},style:{color:(t.vars||t).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}))),H={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},G=P.forwardRef(function(o,e){const{color:r,...n}=T({props:o,name:"MuiTypography"}),a=!Ht[r],d=Gt({...n,...a&&{color:r}}),{align:c="inherit",className:i,component:l,gutterBottom:h=!1,noWrap:f=!1,paragraph:p=!1,variant:y="body1",variantMapping:b=H,...u}=d,m={...d,align:c,color:r,className:i,component:l,gutterBottom:h,noWrap:f,paragraph:p,variant:y,variantMapping:b},v=l||(p?"p":b[y]||H[y])||"span",x=Jt(m);return s.jsx(Zt,{as:v,ref:e,className:$(x.root,i),...u,ownerState:m,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...u.style}})}),Qt=Bt({createStyledComponent:C("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>T({props:t,name:"MuiStack"})});function so({title:t,description:o}){return s.jsx(gt,{sx:{minHeight:120,border:"1px dashed",borderColor:"divider",bgcolor:"action.hover",borderRadius:3,px:3,py:4},children:s.jsxs(Qt,{spacing:1,alignItems:"center",children:[s.jsx(ft,{name:"search_off",size:22,sx:{color:"text.secondary"}}),s.jsx(G,{variant:"body2",fontWeight:600,children:t}),o?s.jsx(G,{variant:"caption",color:"text.secondary",children:o}):null]})})}async function ao(t,o={}){const e=await fetch(t,{...o,headers:{Accept:"application/json",...o.headers||{}}});let r={};try{r=await e.json()}catch{r={}}if(!e.ok){const n=r;throw new Error(n?.message||`${e.status} ${e.statusText}`)}return r}const Kt=new Set(["pn","term","all"]),Xt=new Set(["relevance","name"]);function O(t){const o=String(t??"").split("\\").join("/").trim().replace(/^\/+|\/+$/g,"");return o?o.split("/").filter(e=>e&&e!=="."&&e!=="..").join("/"):""}function _(t,o){const e=Number.parseInt(String(t??""),10);return Number.isFinite(e)&&e>0?e:Math.max(1,o)}function Yt(t){const o=String(t??"").toLowerCase();return Kt.has(o)?o:"pn"}function to(t){const o=String(t??"").toLowerCase();return Xt.has(o)?o:"relevance"}function io(t){const o=new URLSearchParams(t||"");return{q:(o.get("q")||"").trim(),match:Yt(o.get("match")),sort:to(o.get("sort")),page:_(o.get("page"),1),include_notes:o.get("include_notes")==="1",source_dir:O(o.get("source_dir")||""),source_pdf:(o.get("source_pdf")||"").trim()}}function oo(t,o){const e=new URLSearchParams;return t.q&&e.set("q",t.q),e.set("match",t.match),e.set("sort",t.sort||"relevance"),e.set("page",String(_(t.page,1))),e.set("page_size",String(_(o,60))),t.include_notes&&e.set("include_notes","1"),t.source_dir&&e.set("source_dir",t.source_dir),t.source_pdf&&e.set("source_pdf",t.source_pdf),e}function lo(t,o=60){return`/search?${oo(t,o).toString()}`}function co(t){const o=new URLSearchParams;return t.q&&o.set("q",t.q),t.match&&o.set("match",t.match),t.sort&&o.set("sort",t.sort),t.page&&o.set("page",String(t.page)),t.include_notes&&o.set("include_notes","1"),t.source_dir&&o.set("source_dir",t.source_dir),t.source_pdf&&o.set("source_pdf",t.source_pdf),o}function po(t){const o=new URLSearchParams(t||"");return O(o.get("path")||"")}function uo(t){const o=O(t||"");return o?`/db?path=${encodeURIComponent(o)}`:"/db"}export{no as A,so as E,Qt as S,G as T,lo as a,oo as b,co as c,uo as d,po as e,ao as f,St as g,xt as h,O as n,io as s,bt as u};
