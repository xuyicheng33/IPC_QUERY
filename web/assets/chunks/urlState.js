import{t as L,V as j,W as k,g as U,a as T,r as S,u as $,j as y,e as P,f as w,h as E,s as M,m as q,b as H,X as b,Y as N}from"./AppProviders.js";function O(){const e=L(j);return e[k]||e}function D(e){return U("MuiSvgIcon",e)}T("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const V=e=>{const{color:t,fontSize:o,classes:r}=e,n={root:["root",t!=="inherit"&&`color${w(t)}`,`fontSize${w(o)}`]};return E(n,D,r)},W=M("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="inherit"&&t[`color${w(o.color)}`],t[`fontSize${w(o.fontSize)}`]]}})(q(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),x=S.forwardRef(function(t,o){const r=$({props:t,name:"MuiSvgIcon"}),{children:n,className:c,color:p="inherit",component:s="svg",fontSize:v="medium",htmlColor:a,inheritViewBox:i=!1,titleAccess:l,viewBox:u="0 0 24 24",...m}=r,d=S.isValidElement(n)&&n.type==="svg",f={...r,color:p,component:s,fontSize:v,instanceFontSize:t.fontSize,inheritViewBox:i,viewBox:u,hasSvgAsChild:d},g={};i||(g.viewBox=u);const R=V(f);return y.jsxs(W,{as:s,className:P(R.root,c),focusable:"false",color:a,"aria-hidden":l?void 0:!0,role:l?"img":void 0,ref:o,...g,...m,...d&&n.props,ownerState:f,children:[d?n.props.children:n,l?y.jsx("title",{children:l}):null]})});x.muiName="SvgIcon";function ae(e,t){function o(r,n){return y.jsx(x,{"data-testid":void 0,ref:n,...r,children:e})}return o.muiName=x.muiName,S.memo(S.forwardRef(o))}function Z(e){return typeof e=="string"}function B(e,t,o){return e===void 0||Z(e)?t:{...t,ownerState:{...t.ownerState,...o}}}function Q(e,t,o){return typeof e=="function"?e(t,o):e}function X(e,t=[]){if(e===void 0)return{};const o={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{o[r]=e[r]}),o}function I(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(o=>!(o.match(/^on[A-Z]/)&&typeof e[o]=="function")).forEach(o=>{t[o]=e[o]}),t}function Y(e){const{getSlotProps:t,additionalProps:o,externalSlotProps:r,externalForwardedProps:n,className:c}=e;if(!t){const m=P(o?.className,c,n?.className,r?.className),d={...o?.style,...n?.style,...r?.style},f={...o,...n,...r};return m.length>0&&(f.className=m),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:void 0}}const p=X({...n,...r}),s=I(r),v=I(n),a=t(p),i=P(a?.className,o?.className,c,n?.className,r?.className),l={...a?.style,...o?.style,...n?.style,...r?.style},u={...a,...o,...v,...s};return i.length>0&&(u.className=i),Object.keys(l).length>0&&(u.style=l),{props:u,internalRef:a.ref}}function ie(e,t){const{className:o,elementType:r,ownerState:n,externalForwardedProps:c,internalForwardedProps:p,shouldForwardComponentProp:s=!1,...v}=t,{component:a,slots:i={[e]:void 0},slotProps:l={[e]:void 0},...u}=c,m=i[e]||r,d=Q(l[e],n),{props:{component:f,...g},internalRef:R}=Y({className:o,...v,externalForwardedProps:e==="root"?u:void 0,externalSlotProps:d}),A=H(R,d?.ref,t.ref),h=e==="root"?f||a:f,F=B(m,{...e==="root"&&!a&&!i[e]&&p,...e!=="root"&&!i[e]&&p,...g,...h&&!s&&{as:h},...h&&s&&{component:h},ref:A},n);return[m,F]}function G(e){return U("MuiPaper",e)}T("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const J=e=>{const{square:t,elevation:o,variant:r,classes:n}=e,c={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${o}`]};return E(c,G,n)},K=M("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],!o.square&&t.rounded,o.variant==="elevation"&&t[`elevation${o.elevation}`]]}})(q(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),le=S.forwardRef(function(t,o){const r=$({props:t,name:"MuiPaper"}),n=O(),{className:c,component:p="div",elevation:s=1,square:v=!1,variant:a="elevation",...i}=r,l={...r,component:p,elevation:s,square:v,variant:a},u=J(l);return y.jsx(K,{as:p,ownerState:l,className:P(u.root,c),ref:o,...i,style:{...a==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[s],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[s]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${b("#fff",N(s))}, ${b("#fff",N(s))})`}},...i.style}})}),ee=new Set(["pn","term","all"]),te=new Set(["relevance","name"]);function _(e,t="/"){const o=String(e||"").trim();return!o||!o.startsWith("/")||o.startsWith("//")||/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(o)?t:o}function C(e){const t=String(e??"").split("\\").join("/").trim().replace(/^\/+|\/+$/g,"");return t?t.split("/").filter(o=>o&&o!=="."&&o!=="..").join("/"):""}function z(e,t){const o=Number.parseInt(String(e??""),10);return Number.isFinite(o)&&o>0?o:Math.max(1,t)}function oe(e){const t=String(e??"").toLowerCase();return ee.has(t)?t:"pn"}function re(e){const t=String(e??"").toLowerCase();return te.has(t)?t:"relevance"}function ce(e){const t=new URLSearchParams(e||"");return{q:(t.get("q")||"").trim(),match:oe(t.get("match")),sort:re(t.get("sort")),page:z(t.get("page"),1),include_notes:t.get("include_notes")==="1",source_dir:C(t.get("source_dir")||""),source_pdf:(t.get("source_pdf")||"").trim()}}function ne(e,t){const o=new URLSearchParams;return e.q&&o.set("q",e.q),o.set("match",e.match),o.set("sort",e.sort||"relevance"),o.set("page",String(z(e.page,1))),o.set("page_size",String(z(t,60))),e.include_notes&&o.set("include_notes","1"),e.source_dir&&o.set("source_dir",e.source_dir),e.source_pdf&&o.set("source_pdf",e.source_pdf),o}function ue(e,t=60){return`/search?${ne(e,t).toString()}`}function pe(e){const t=new URLSearchParams;return e.q&&t.set("q",e.q),e.match&&t.set("match",e.match),e.sort&&t.set("sort",e.sort),e.page&&t.set("page",String(e.page)),e.include_notes&&t.set("include_notes","1"),e.source_dir&&t.set("source_dir",e.source_dir),e.source_pdf&&t.set("source_pdf",e.source_pdf),t}function de(e){const t=new URLSearchParams(e||"");return C(t.get("path")||"")}function fe(e){const t=C(e||"");return t?`/db?path=${encodeURIComponent(t)}`:"/db"}function ve(e){return _(e,"/search")}function me(e,t){const o=new URLSearchParams(e||"");return _(o.get("return_to"),_(t,"/search"))}export{le as P,ue as a,ne as b,pe as c,ae as d,ve as e,X as f,O as g,fe as h,de as i,B as j,Z as k,Y as m,C as n,me as p,Q as r,ce as s,ie as u};
