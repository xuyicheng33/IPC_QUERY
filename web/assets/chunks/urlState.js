import{k as xo,l as yo,r as B,j as a,b as A,d,m as Y,g as j,n as vo,o as V,p as _,q as mo,s as ho,t as bo,v as G,a as z,u as I,w as So,x as Co,M as W,B as oo}from"./AppProviders.js";import{k as Bo,d as M,s as b,a as ko,m as P,e as k,j as Ao,c as w,b as T,P as to,B as q}from"./Card.js";const ro=Bo();function jo(o){const{theme:t,name:r,props:e}=o;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?e:xo(t.components[r].defaultProps,e)}function eo({props:o,name:t,defaultTheme:r,themeId:e}){let n=yo(r);return e&&(n=n[e]||n),jo({theme:n,name:t,props:o})}const Io=Y(),Mo=ro("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[`maxWidth${d(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),Ro=o=>eo({props:o,name:"MuiContainer",defaultTheme:Io}),$o=(o,t)=>{const r=c=>j(t,c),{classes:e,fixed:n,disableGutters:p,maxWidth:s}=o,i={root:["root",s&&`maxWidth${d(String(s))}`,n&&"fixed",p&&"disableGutters"]};return M(i,r,e)};function To(o={}){const{createStyledComponent:t=Mo,useThemeProps:r=Ro,componentName:e="MuiContainer"}=o,n=t(({theme:s,ownerState:i})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!i.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}}),({theme:s,ownerState:i})=>i.fixed&&Object.keys(s.breakpoints.values).reduce((c,l)=>{const u=l,g=s.breakpoints.values[u];return g!==0&&(c[s.breakpoints.up(u)]={maxWidth:`${g}${s.breakpoints.unit}`}),c},{}),({theme:s,ownerState:i})=>({...i.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},...i.maxWidth&&i.maxWidth!=="xs"&&{[s.breakpoints.up(i.maxWidth)]:{maxWidth:`${s.breakpoints.values[i.maxWidth]}${s.breakpoints.unit}`}}}));return B.forwardRef(function(i,c){const l=r(i),{className:u,component:g="div",disableGutters:f=!1,fixed:y=!1,maxWidth:S="lg",classes:x,...v}=l,m={...l,component:g,disableGutters:f,fixed:y,maxWidth:S},h=$o(m,e);return a.jsx(n,{as:g,ownerState:m,className:A(h.root,u),ref:c,...v})})}const Po=Y(),zo=ro("div",{name:"MuiStack",slot:"Root"});function wo(o){return eo({props:o,name:"MuiStack",defaultTheme:Po})}function Wo(o,t){const r=B.Children.toArray(o).filter(Boolean);return r.reduce((e,n,p)=>(e.push(n),p<r.length-1&&e.push(B.cloneElement(t,{key:`separator-${p}`})),e),[])}const Lo=o=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[o],_o=({ownerState:o,theme:t})=>{let r={display:"flex",flexDirection:"column",...V({theme:t},_({values:o.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e}))};if(o.spacing){const e=mo(t),n=Object.keys(t.breakpoints.values).reduce((c,l)=>((typeof o.spacing=="object"&&o.spacing[l]!=null||typeof o.direction=="object"&&o.direction[l]!=null)&&(c[l]=!0),c),{}),p=_({values:o.direction,base:n}),s=_({values:o.spacing,base:n});typeof p=="object"&&Object.keys(p).forEach((c,l,u)=>{if(!p[c]){const f=l>0?p[u[l-1]]:"column";p[c]=f}}),r=ho(r,V({theme:t},s,(c,l)=>o.useFlexGap?{gap:G(e,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Lo(l?p[l]:o.direction)}`]:G(e,c)}}))}return r=bo(t.breakpoints,r),r};function No(o={}){const{createStyledComponent:t=zo,useThemeProps:r=wo,componentName:e="MuiStack"}=o,n=()=>M({root:["root"]},c=>j(e,c),{}),p=t(_o);return B.forwardRef(function(c,l){const u=r(c),g=vo(u),{component:f="div",direction:y="column",spacing:S=0,divider:x,children:v,className:m,useFlexGap:h=!1,...L}=g,C={direction:y,spacing:S,useFlexGap:h},R=n();return a.jsx(p,{as:f,ownerState:C,ref:l,className:A(R.root,m),...L,children:x?Wo(v,x):v})})}function Uo(o){return j("MuiAlert",o)}const H=z("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Oo(o){return j("MuiIconButton",o)}const J=z("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Do=o=>{const{classes:t,disabled:r,color:e,edge:n,size:p,loading:s}=o,i={root:["root",s&&"loading",r&&"disabled",e!=="default"&&`color${d(e)}`,n&&`edge${d(n)}`,`size${d(p)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return M(i,Oo,t)},Fo=b(ko,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${d(r.color)}`],r.edge&&t[`edge${d(r.edge)}`],t[`size${d(r.size)}`]]}})(P(({theme:o})=>({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":o.alpha((o.vars||o).palette.action.active,(o.vars||o).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),P(({theme:o})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(o.palette).filter(k()).map(([t])=>({props:{color:t},style:{color:(o.vars||o).palette[t].main}})),...Object.entries(o.palette).filter(k()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":o.alpha((o.vars||o).palette[t].main,(o.vars||o).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:o.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:o.typography.pxToRem(28)}}],[`&.${J.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled},[`&.${J.loading}`]:{color:"transparent"}}))),Eo=b("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:o})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(o.vars||o).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Vo=B.forwardRef(function(t,r){const e=I({props:t,name:"MuiIconButton"}),{edge:n=!1,children:p,className:s,color:i="default",disabled:c=!1,disableFocusRipple:l=!1,size:u="medium",id:g,loading:f=null,loadingIndicator:y,...S}=e,x=So(g),v=y??a.jsx(Ao,{"aria-labelledby":x,color:"inherit",size:16}),m={...e,edge:n,color:i,disabled:c,disableFocusRipple:l,loading:f,loadingIndicator:v,size:u},h=Do(m);return a.jsxs(Fo,{id:f?x:g,className:A(h.root,s),centerRipple:!0,focusRipple:!l,disabled:c||f,ref:r,...S,ownerState:m,children:[typeof f=="boolean"&&a.jsx("span",{className:h.loadingWrapper,style:{display:"contents"},children:a.jsx(Eo,{className:h.loadingIndicator,ownerState:m,children:f&&v})}),p]})}),Go=w(a.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),qo=w(a.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Ho=w(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Jo=w(a.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Zo=w(a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Qo=o=>{const{variant:t,color:r,severity:e,classes:n}=o,p={root:["root",`color${d(r||e)}`,`${t}${d(r||e)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return M(p,Uo,n)},Ko=b(to,{name:"MuiAlert",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[r.variant],t[`${r.variant}${d(r.color||r.severity)}`]]}})(P(({theme:o})=>{const t=o.palette.mode==="light"?o.darken:o.lighten,r=o.palette.mode==="light"?o.lighten:o.darken;return{...o.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(o.palette).filter(k(["light"])).map(([e])=>({props:{colorSeverity:e,variant:"standard"},style:{color:o.vars?o.vars.palette.Alert[`${e}Color`]:t(o.palette[e].light,.6),backgroundColor:o.vars?o.vars.palette.Alert[`${e}StandardBg`]:r(o.palette[e].light,.9),[`& .${H.icon}`]:o.vars?{color:o.vars.palette.Alert[`${e}IconColor`]}:{color:o.palette[e].main}}})),...Object.entries(o.palette).filter(k(["light"])).map(([e])=>({props:{colorSeverity:e,variant:"outlined"},style:{color:o.vars?o.vars.palette.Alert[`${e}Color`]:t(o.palette[e].light,.6),border:`1px solid ${(o.vars||o).palette[e].light}`,[`& .${H.icon}`]:o.vars?{color:o.vars.palette.Alert[`${e}IconColor`]}:{color:o.palette[e].main}}})),...Object.entries(o.palette).filter(k(["dark"])).map(([e])=>({props:{colorSeverity:e,variant:"filled"},style:{fontWeight:o.typography.fontWeightMedium,...o.vars?{color:o.vars.palette.Alert[`${e}FilledColor`],backgroundColor:o.vars.palette.Alert[`${e}FilledBg`]}:{backgroundColor:o.palette.mode==="dark"?o.palette[e].dark:o.palette[e].main,color:o.palette.getContrastText(o.palette[e].main)}}}))]}})),Xo=b("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Yo=b("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),ot=b("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Z={success:a.jsx(Go,{fontSize:"inherit"}),warning:a.jsx(qo,{fontSize:"inherit"}),error:a.jsx(Ho,{fontSize:"inherit"}),info:a.jsx(Jo,{fontSize:"inherit"})},St=B.forwardRef(function(t,r){const e=I({props:t,name:"MuiAlert"}),{action:n,children:p,className:s,closeText:i="Close",color:c,components:l={},componentsProps:u={},icon:g,iconMapping:f=Z,onClose:y,role:S="alert",severity:x="success",slotProps:v={},slots:m={},variant:h="standard",...L}=e,C={...e,color:c,severity:x,variant:h,colorSeverity:c||x},R=Qo(C),$={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...m},slotProps:{...u,...v}},[ao,no]=T("root",{ref:r,shouldForwardComponentProp:!0,className:A(R.root,s),elementType:Ko,externalForwardedProps:{...$,...L},ownerState:C,additionalProps:{role:S,elevation:0}}),[so,io]=T("icon",{className:R.icon,elementType:Xo,externalForwardedProps:$,ownerState:C}),[lo,co]=T("message",{className:R.message,elementType:Yo,externalForwardedProps:$,ownerState:C}),[F,E]=T("action",{className:R.action,elementType:ot,externalForwardedProps:$,ownerState:C}),[po,uo]=T("closeButton",{elementType:Vo,externalForwardedProps:$,ownerState:C}),[go,fo]=T("closeIcon",{elementType:Zo,externalForwardedProps:$,ownerState:C});return a.jsxs(ao,{...no,children:[g!==!1?a.jsx(so,{...io,children:g||f[x]||Z[x]}):null,a.jsx(lo,{...co,children:p}),n!=null?a.jsx(F,{...E,children:n}):null,n==null&&y?a.jsx(F,{...E,children:a.jsx(po,{size:"small","aria-label":i,title:i,color:"inherit",onClick:y,...uo,children:a.jsx(go,{fontSize:"small",...fo})})}):null]})});function tt(o){return j("MuiTypography",o)}z("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const rt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},et=Co(),at=o=>{const{align:t,gutterBottom:r,noWrap:e,paragraph:n,variant:p,classes:s}=o,i={root:["root",p,o.align!=="inherit"&&`align${d(t)}`,r&&"gutterBottom",e&&"noWrap",n&&"paragraph"]};return M(i,tt,s)},nt=b("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${d(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(P(({theme:o})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(o.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(o.palette).filter(k()).map(([t])=>({props:{color:t},style:{color:(o.vars||o).palette[t].main}})),...Object.entries(o.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${d(t)}`},style:{color:(o.vars||o).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),Q={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},N=B.forwardRef(function(t,r){const{color:e,...n}=I({props:t,name:"MuiTypography"}),p=!rt[e],s=et({...n,...p&&{color:e}}),{align:i="inherit",className:c,component:l,gutterBottom:u=!1,noWrap:g=!1,paragraph:f=!1,variant:y="body1",variantMapping:S=Q,...x}=s,v={...s,align:i,color:e,className:c,component:l,gutterBottom:u,noWrap:g,paragraph:f,variant:y,variantMapping:S},m=l||(f?"p":S[y]||Q[y])||"span",h=at(v);return a.jsx(nt,{as:m,ref:r,className:A(h.root,c),...x,ownerState:v,style:{...i!=="inherit"&&{"--Typography-textAlign":i},...x.style}})});function st(o){return j("MuiAppBar",o)}z("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const it=o=>{const{color:t,position:r,classes:e}=o,n={root:["root",`color${d(t)}`,`position${d(r)}`]};return M(n,st,e)},K=(o,t)=>o?`${o.replace(")","")}, ${t})`:t,lt=b(to,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[`position${d(r.position)}`],t[`color${d(r.color)}`]]}})(P(({theme:o})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit",color:"var(--AppBar-color)"}},{props:{color:"default"},style:{"--AppBar-background":o.vars?o.vars.palette.AppBar.defaultBg:o.palette.grey[100],"--AppBar-color":o.vars?o.vars.palette.text.primary:o.palette.getContrastText(o.palette.grey[100]),...o.applyStyles("dark",{"--AppBar-background":o.vars?o.vars.palette.AppBar.defaultBg:o.palette.grey[900],"--AppBar-color":o.vars?o.vars.palette.text.primary:o.palette.getContrastText(o.palette.grey[900])})}},...Object.entries(o.palette).filter(k(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(o.vars??o).palette[t].main,"--AppBar-color":(o.vars??o).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...o.applyStyles("dark",{backgroundColor:o.vars?K(o.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:o.vars?K(o.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...o.applyStyles("dark",{backgroundImage:"none"})}}]}))),ct=B.forwardRef(function(t,r){const e=I({props:t,name:"MuiAppBar"}),{className:n,color:p="primary",enableColorOnDark:s=!1,position:i="fixed",...c}=e,l={...e,color:p,position:i,enableColorOnDark:s},u=it(l);return a.jsx(lt,{square:!0,component:"header",ownerState:l,elevation:4,className:A(u.root,n,i==="fixed"&&"mui-fixed"),ref:r,...c})}),X=To({createStyledComponent:b("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[`maxWidth${d(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:o=>I({props:o,name:"MuiContainer"})}),U=No({createStyledComponent:b("div",{name:"MuiStack",slot:"Root"}),useThemeProps:o=>I({props:o,name:"MuiStack"})});function pt(o){return j("MuiToolbar",o)}z("MuiToolbar",["root","gutters","regular","dense"]);const dt=o=>{const{classes:t,disableGutters:r,variant:e}=o;return M({root:["root",!r&&"gutters",e]},pt,t)},ut=b("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(P(({theme:o})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:o.mixins.toolbar}]}))),gt=B.forwardRef(function(t,r){const e=I({props:t,name:"MuiToolbar"}),{className:n,component:p="div",disableGutters:s=!1,variant:i="regular",...c}=e,l={...e,component:p,disableGutters:s,variant:i},u=dt(l);return a.jsx(ut,{as:p,className:A(u.root,n),ref:r,ownerState:l,...c})});function Ct({title:o="IPC 查询系统",hideHeaderTitle:t=!0,actions:r,showBack:e=!0,backHref:n="/",backLabel:p="返回上一级",children:s,contentClassName:i}){const c=r&&r.length>0?r:[{href:"/search",label:"搜索",icon:a.jsx(W,{name:"search",size:18})},{href:"/db",label:"数据库",icon:a.jsx(W,{name:"database",size:18})}];return a.jsxs(oo,{sx:{minHeight:"100vh",bgcolor:"background.default",color:"text.primary"},children:[a.jsx(ct,{position:"sticky",color:"inherit",elevation:0,sx:{borderBottom:"1px solid",borderColor:"divider"},children:a.jsx(gt,{sx:{px:{xs:2,md:3},py:1},children:a.jsx(X,{maxWidth:!1,sx:{maxWidth:1360,px:"0 !important"},children:a.jsxs(U,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",children:[t?a.jsx("div",{}):a.jsx("a",{href:"/",children:a.jsx(N,{variant:"h6",children:o})}),a.jsxs(U,{component:"nav",direction:"row",spacing:1,flexWrap:"wrap","aria-label":"主导航",justifyContent:"flex-end",children:[e?a.jsx(q,{variant:"ghost",className:"h-9 gap-1.5 px-4",startIcon:a.jsx(W,{name:"arrow_back",size:18}),onClick:()=>{if(window.history.length>1){window.history.back();return}window.location.href=n},children:p}):null,c.map(l=>a.jsx("a",{href:l.href,children:a.jsx(q,{variant:"ghost",className:"h-9 gap-1.5 px-4",startIcon:l.icon,children:l.label})},l.href))]})]})})})}),a.jsx(X,{maxWidth:!1,sx:{maxWidth:1360,px:{xs:2,md:3},py:3},className:i,children:s})]})}function Bt({title:o,description:t}){return a.jsx(oo,{sx:{minHeight:120,border:"1px dashed",borderColor:"divider",bgcolor:"action.hover",borderRadius:3,px:3,py:4},children:a.jsxs(U,{spacing:1,alignItems:"center",children:[a.jsx(W,{name:"search_off",size:22,sx:{color:"text.secondary"}}),a.jsx(N,{variant:"body2",fontWeight:600,children:o}),t?a.jsx(N,{variant:"caption",color:"text.secondary",children:t}):null]})})}async function kt(o,t={}){const r=await fetch(o,{...t,headers:{Accept:"application/json",...t.headers||{}}});let e={};try{e=await r.json()}catch{e={}}if(!r.ok){const n=e;throw new Error(n?.message||`${r.status} ${r.statusText}`)}return e}const ft=new Set(["pn","term","all"]),xt=new Set(["relevance","name"]);function D(o){const t=String(o??"").split("\\").join("/").trim().replace(/^\/+|\/+$/g,"");return t?t.split("/").filter(r=>r&&r!=="."&&r!=="..").join("/"):""}function O(o,t){const r=Number.parseInt(String(o??""),10);return Number.isFinite(r)&&r>0?r:Math.max(1,t)}function yt(o){const t=String(o??"").toLowerCase();return ft.has(t)?t:"pn"}function vt(o){const t=String(o??"").toLowerCase();return xt.has(t)?t:"relevance"}function At(o){const t=new URLSearchParams(o||"");return{q:(t.get("q")||"").trim(),match:yt(t.get("match")),sort:vt(t.get("sort")),page:O(t.get("page"),1),include_notes:t.get("include_notes")==="1",source_dir:D(t.get("source_dir")||""),source_pdf:(t.get("source_pdf")||"").trim()}}function mt(o,t){const r=new URLSearchParams;return o.q&&r.set("q",o.q),r.set("match",o.match),r.set("sort",o.sort||"relevance"),r.set("page",String(O(o.page,1))),r.set("page_size",String(O(t,60))),o.include_notes&&r.set("include_notes","1"),o.source_dir&&r.set("source_dir",o.source_dir),o.source_pdf&&r.set("source_pdf",o.source_pdf),r}function jt(o,t=60){return`/search?${mt(o,t).toString()}`}function It(o){const t=new URLSearchParams;return o.q&&t.set("q",o.q),o.match&&t.set("match",o.match),o.sort&&t.set("sort",o.sort),o.page&&t.set("page",String(o.page)),o.include_notes&&t.set("include_notes","1"),o.source_dir&&t.set("source_dir",o.source_dir),o.source_pdf&&t.set("source_pdf",o.source_pdf),t}function Mt(o){const t=new URLSearchParams(o||"");return D(t.get("path")||"")}function Rt(o){const t=D(o||"");return t?`/db?path=${encodeURIComponent(t)}`:"/db"}export{Ct as A,Bt as E,U as S,N as T,jt as a,mt as b,It as c,St as d,Rt as e,kt as f,jo as g,Mt as h,D as n,At as s};
