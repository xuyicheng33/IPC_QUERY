import{r as s,g as ee,a as te,u as ne,e as Ee,b as Z,j as t,d as q,f as ye,M as W,B as ke,R as je,c as Fe,A as Ie}from"./chunks/AppProviders.js";import{u as Oe,k as xe,l as De,P as be,e as Y,f as oe,g as G,m as ae,n as Be,o as ve,q as H,i as Le,j as U,C as we,r as Pe,t as me}from"./chunks/urlState.js";import{D as ze,C as We}from"./chunks/Card.js";import{T as Ue,E as He,f as V,A as Je}from"./chunks/api.js";import{g as Ke,o as ge,F as Ce,M as Xe,B as Ge,G as qe,I as $e,S as Ye}from"./chunks/Select.js";function Se(e){return e.substring(2).toLowerCase()}function Ve(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Qe(e){const{children:n,disableReactTree:c=!1,mouseEvent:p="onClick",onClickAway:w,touchEvent:v="onTouchEnd"}=e,S=s.useRef(!1),i=s.useRef(null),h=s.useRef(!1),A=s.useRef(!1);s.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const m=Oe(Ke(n),i),$=xe(P=>{const T=A.current;A.current=!1;const g=ge(i.current);if(!h.current||!i.current||"clientX"in P&&Ve(P,g))return;if(S.current){S.current=!1;return}let r;P.composedPath?r=P.composedPath().includes(i.current):r=!g.documentElement.contains(P.target)||i.current.contains(P.target),!r&&(c||!T)&&w(P)}),F=P=>T=>{A.current=!0;const g=n.props[P];g&&g(T)},I={ref:m};return v!==!1&&(I[v]=F(v)),s.useEffect(()=>{if(v!==!1){const P=Se(v),T=ge(i.current),g=()=>{S.current=!0};return T.addEventListener(P,$),T.addEventListener("touchmove",g),()=>{T.removeEventListener(P,$),T.removeEventListener("touchmove",g)}}},[$,v]),p!==!1&&(I[p]=F(p)),s.useEffect(()=>{if(p!==!1){const P=Se(p),T=ge(i.current);return T.addEventListener(P,$),()=>{T.removeEventListener(P,$)}}},[$,p]),s.cloneElement(n,I)}function Ze(e){return ee("MuiDialog",e)}const he=te("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ne=s.createContext({}),et=G(Ge,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),tt=e=>{const{classes:n,scroll:c,maxWidth:p,fullWidth:w,fullScreen:v}=e,S={root:["root"],backdrop:["backdrop"],container:["container",`scroll${q(c)}`],paper:["paper",`paperScroll${q(c)}`,`paperWidth${q(String(p))}`,w&&"paperFullWidth",v&&"paperFullScreen"]};return oe(S,Ze,n)},nt=G(Xe,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),ot=G("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,n)=>{const{ownerState:c}=e;return[n.container,n[`scroll${q(c.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),st=G(be,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,n)=>{const{ownerState:c}=e;return[n.paper,n[`scrollPaper${q(c.scroll)}`],n[`paperWidth${q(String(c.maxWidth))}`],c.fullWidth&&n.paperFullWidth,c.fullScreen&&n.paperFullScreen]}})(ae(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:n})=>!n.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${he.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(n=>n!=="xs").map(n=>({props:{maxWidth:n},style:{maxWidth:`${e.breakpoints.values[n]}${e.breakpoints.unit}`,[`&.${he.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[n]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:n})=>n.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:n})=>n.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${he.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Te=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiDialog"}),w=De(),v={enter:w.transitions.duration.enteringScreen,exit:w.transitions.duration.leavingScreen},{"aria-describedby":S,"aria-labelledby":i,"aria-modal":h=!0,BackdropComponent:A,BackdropProps:m,children:$,className:F,disableEscapeKeyDown:I=!1,fullScreen:P=!1,fullWidth:T=!1,maxWidth:g="sm",onClick:r,onClose:b,open:k,PaperComponent:R=be,PaperProps:O={},scroll:C="paper",slots:N={},slotProps:f={},TransitionComponent:u=Ce,transitionDuration:j=v,TransitionProps:L,..._}=p,M={...p,disableEscapeKeyDown:I,fullScreen:P,fullWidth:T,maxWidth:g,scroll:C},y=tt(M),o=s.useRef(),d=J=>{o.current=J.target===J.currentTarget},x=J=>{r&&r(J),o.current&&(o.current=null,b&&b(J,"backdropClick"))},a=Ee(i),D=s.useMemo(()=>({titleId:a}),[a]),z={transition:u,...N},E={transition:L,paper:O,backdrop:m,...f},B={slots:z,slotProps:E},[K,se]=Y("root",{elementType:nt,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:M,className:Z(y.root,F),ref:c}),[l,ie]=Y("backdrop",{elementType:et,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:M,className:y.backdrop}),[le,ce]=Y("paper",{elementType:st,shouldForwardComponentProp:!0,externalForwardedProps:B,ownerState:M,className:Z(y.paper,O.className)}),[de,ue]=Y("container",{elementType:ot,externalForwardedProps:B,ownerState:M,className:y.container}),[pe,fe]=Y("transition",{elementType:Ce,externalForwardedProps:B,ownerState:M,additionalProps:{appear:!0,in:k,timeout:j,role:"presentation"}});return t.jsx(K,{closeAfterTransition:!0,slots:{backdrop:l},slotProps:{backdrop:{transitionDuration:j,as:A,...ie}},disableEscapeKeyDown:I,onClose:b,open:k,onClick:x,...se,..._,children:t.jsx(pe,{...fe,children:t.jsx(de,{onMouseDown:d,...ue,children:t.jsx(le,{as:R,elevation:24,role:"dialog","aria-describedby":S,"aria-labelledby":a,"aria-modal":h,...ce,children:t.jsx(Ne.Provider,{value:D,children:$})})})})})});function rt(e){return ee("MuiDialogActions",e)}te("MuiDialogActions",["root","spacing"]);const at=e=>{const{classes:n,disableSpacing:c}=e;return oe({root:["root",!c&&"spacing"]},rt,n)},it=G("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:c}=e;return[n.root,!c.disableSpacing&&n.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ae=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiDialogActions"}),{className:w,disableSpacing:v=!1,...S}=p,i={...p,disableSpacing:v},h=at(i);return t.jsx(it,{className:Z(h.root,w),ownerState:i,ref:c,...S})});function lt(e){return ee("MuiDialogContent",e)}te("MuiDialogContent",["root","dividers"]);function ct(e){return ee("MuiDialogTitle",e)}const dt=te("MuiDialogTitle",["root"]),ut=e=>{const{classes:n,dividers:c}=e;return oe({root:["root",c&&"dividers"]},lt,n)},pt=G("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:c}=e;return[n.root,c.dividers&&n.dividers]}})(ae(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:n})=>n.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:n})=>!n.dividers,style:{[`.${dt.root} + &`]:{paddingTop:0}}}]}))),Re=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiDialogContent"}),{className:w,dividers:v=!1,...S}=p,i={...p,dividers:v},h=ut(i);return t.jsx(pt,{className:Z(h.root,w),ownerState:i,ref:c,...S})}),ft=e=>{const{classes:n}=e;return oe({root:["root"]},ct,n)},mt=G(Ue,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),_e=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiDialogTitle"}),{className:w,id:v,...S}=p,i=p,h=ft(i),{titleId:A=v}=s.useContext(Ne);return t.jsx(mt,{component:"h2",className:Z(h.root,w),ownerState:i,ref:c,variant:"h6",id:v??A,...S})});function gt(e={}){const{autoHideDuration:n=null,disableWindowBlurListener:c=!1,onClose:p,open:w,resumeHideDuration:v}=e,S=Be();s.useEffect(()=>{if(!w)return;function r(b){b.defaultPrevented||b.key==="Escape"&&p?.(b,"escapeKeyDown")}return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[w,p]);const i=xe((r,b)=>{p?.(r,b)}),h=xe(r=>{!p||r==null||S.start(r,()=>{i(null,"timeout")})});s.useEffect(()=>(w&&h(n),S.clear),[w,n,h,S]);const A=r=>{p?.(r,"clickaway")},m=S.clear,$=s.useCallback(()=>{n!=null&&h(v??n*.5)},[n,v,h]),F=r=>b=>{const k=r.onBlur;k?.(b),$()},I=r=>b=>{const k=r.onFocus;k?.(b),m()},P=r=>b=>{const k=r.onMouseEnter;k?.(b),m()},T=r=>b=>{const k=r.onMouseLeave;k?.(b),$()};return s.useEffect(()=>{if(!c&&w)return window.addEventListener("focus",$),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",$),window.removeEventListener("blur",m)}},[c,w,$,m]),{getRootProps:(r={})=>{const b={...ve(e),...ve(r)};return{role:"presentation",...r,...b,onBlur:F(b),onFocus:I(b),onMouseEnter:P(b),onMouseLeave:T(b)}},onClickAway:A}}function ht(e){return ee("MuiSnackbarContent",e)}te("MuiSnackbarContent",["root","message","action"]);const xt=e=>{const{classes:n}=e;return oe({root:["root"],action:["action"],message:["message"]},ht,n)},bt=G(be,{name:"MuiSnackbarContent",slot:"Root"})(ae(({theme:e})=>{const n=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(ye(e.palette.background.default,n)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:ye(e.palette.background.default,n),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),yt=G("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),vt=G("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),wt=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiSnackbarContent"}),{action:w,className:v,message:S,role:i="alert",...h}=p,A=p,m=xt(A);return t.jsxs(bt,{role:i,elevation:6,className:Z(m.root,v),ownerState:A,ref:c,...h,children:[t.jsx(yt,{className:m.message,ownerState:A,children:S}),w?t.jsx(vt,{className:m.action,ownerState:A,children:w}):null]})});function Ct(e){return ee("MuiSnackbar",e)}te("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const St=e=>{const{classes:n,anchorOrigin:c}=e,p={root:["root",`anchorOrigin${q(c.vertical)}${q(c.horizontal)}`]};return oe(p,Ct,n)},kt=G("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:c}=e;return[n.root,n[`anchorOrigin${q(c.anchorOrigin.vertical)}${q(c.anchorOrigin.horizontal)}`]]}})(ae(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:n})=>n.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:n})=>n.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:n})=>n.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:n})=>n.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:n})=>n.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),jt=s.forwardRef(function(n,c){const p=ne({props:n,name:"MuiSnackbar"}),w=De(),v={enter:w.transitions.duration.enteringScreen,exit:w.transitions.duration.leavingScreen},{action:S,anchorOrigin:{vertical:i,horizontal:h}={vertical:"bottom",horizontal:"left"},autoHideDuration:A=null,children:m,className:$,ClickAwayListenerProps:F,ContentProps:I,disableWindowBlurListener:P=!1,message:T,onBlur:g,onClose:r,onFocus:b,onMouseEnter:k,onMouseLeave:R,open:O,resumeHideDuration:C,slots:N={},slotProps:f={},TransitionComponent:u,transitionDuration:j=v,TransitionProps:{onEnter:L,onExited:_,...M}={},...y}=p,o={...p,anchorOrigin:{vertical:i,horizontal:h},autoHideDuration:A,disableWindowBlurListener:P,TransitionComponent:u,transitionDuration:j},d=St(o),{getRootProps:x,onClickAway:a}=gt(o),[D,z]=s.useState(!0),E=J=>{z(!0),_&&_(J)},B=(J,X)=>{z(!1),L&&L(J,X)},K={slots:{transition:u,...N},slotProps:{content:I,clickAwayListener:F,transition:M,...f}},[se,l]=Y("root",{ref:c,className:[d.root,$],elementType:kt,getSlotProps:x,externalForwardedProps:{...K,...y},ownerState:o}),[ie,{ownerState:le,...ce}]=Y("clickAwayListener",{elementType:Qe,externalForwardedProps:K,getSlotProps:J=>({onClickAway:(...X)=>{const Me=X[0];J.onClickAway?.(...X),!Me?.defaultMuiPrevented&&a(...X)}}),ownerState:o}),[de,ue]=Y("content",{elementType:wt,shouldForwardComponentProp:!0,externalForwardedProps:K,additionalProps:{message:T,action:S},ownerState:o}),[pe,fe]=Y("transition",{elementType:qe,externalForwardedProps:K,getSlotProps:J=>({onEnter:(...X)=>{J.onEnter?.(...X),B(...X)},onExited:(...X)=>{J.onExited?.(...X),E(...X)}}),additionalProps:{appear:!0,in:O,timeout:j,direction:i==="top"?"down":"up"},ownerState:o});return!O&&D?null:t.jsx(ie,{...ce,...N.clickAwayListener&&{ownerState:le},children:t.jsx(se,{...l,children:t.jsx(pe,{...fe,children:m||t.jsx(de,{...ue})})})})});function Dt({items:e,selectedPaths:n,onSelectionChange:c,knownDirectories:p,capabilitiesImportEnabled:w,importDisabledReason:v,getRowActionState:S,onSetRowActionState:i,onClearRowActionState:h,onBeginRename:A,onBeginMove:m,onApplyRename:$,onApplyMove:F,onDeleteSingle:I,onOpenDirectory:P}){const[T,g]=s.useState(""),[r,b]=s.useState(""),k=s.useMemo(()=>e.filter(f=>!f.is_dir).map(f=>H(f.relative_path||f.name||"")).filter(Boolean),[e]),R=s.useMemo(()=>e.filter(f=>f.is_dir).map(f=>H(f.relative_path||f.name||"")).filter(Boolean),[e]);s.useEffect(()=>{r&&(R.includes(r)||b(""))},[r,R]);const O=f=>{c(k.filter(u=>f.has(u)))},C=f=>{if(!f)return;const u=new Set(n);u.has(f)?u.delete(f):u.add(f),g(f),O(u)},N=(f,u)=>{if(!f)return;const j=new Set(n);if(u.shift){const L=k.indexOf(f),_=k.indexOf(T||f);if(L>=0&&_>=0){const[M,y]=_<=L?[_,L]:[L,_];j.clear();for(let o=M;o<=y;o+=1)j.add(k[o])}else j.clear(),j.add(f);g(f),O(j);return}if(u.toggle){j.has(f)?j.delete(f):j.add(f),g(f),O(j);return}j.clear(),j.add(f),g(f),O(j)};return e.length===0?t.jsx(He,{title:"空目录"}):t.jsx("div",{className:"overflow-hidden rounded-md border border-border bg-surface",children:t.jsx("div",{role:"list","aria-label":"数据库文件列表",children:e.map(f=>{const u=H(f.relative_path||f.name||""),j=S(u),L=H(j.value||""),_=new URLSearchParams;_.set("pdf",u),_.set("page","1"),_.set("return_to",Le(`${window.location.pathname}${window.location.search}`));const M=`/viewer.html?${_.toString()}`,y=j.phase==="pending",o=f.is_dir,d=!o&&n.has(u),x=o&&r===u,a=String(f.name||u||"-"),D=!!(u&&u!==a),z="w-[180px] md:w-[332px]",E=l=>{l.preventDefault(),l.stopPropagation()},B=l=>{l.preventDefault(),l.stopPropagation()},K=l=>{j.mode==="normal"&&N(u,{shift:l.shiftKey,toggle:l.metaKey||l.ctrlKey})},se=l=>{j.mode==="normal"&&(l.key===" "||l.key==="Enter")&&(l.preventDefault(),N(u,{shift:l.shiftKey,toggle:l.metaKey||l.ctrlKey}))};return t.jsxs("div",{role:o?"button":void 0,"aria-label":o?`目录 ${a}${x?"（已选）":""}`:`${a}${d?"（已选）":""}`,tabIndex:0,className:`group grid cursor-pointer grid-cols-[36px_28px_minmax(0,1fr)_180px] items-center gap-2 border-b border-border px-3 py-2 last:border-b-0 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent md:grid-cols-[36px_28px_minmax(0,1fr)_332px] ${d||x?"bg-accent-soft":"hover:bg-surface-soft"}`,onClick:l=>{if(o){b(u);return}K(l)},onDoubleClick:()=>{o&&u&&P(u)},onKeyDown:l=>{if(o){l.key==="Enter"?(l.preventDefault(),P(u)):l.key===" "&&(l.preventDefault(),b(u));return}se(l)},children:[t.jsx("div",{className:"flex w-9 items-center justify-center",children:o?t.jsx("span",{className:"h-4 w-4"}):t.jsx("input",{type:"checkbox",checked:d,"aria-label":`${a}${d?"已选中":"未选中"}`,className:"h-4 w-4",style:{accentColor:"var(--color-accent)"},onClick:l=>{E(l)},onChange:()=>{C(u)}})}),t.jsx("div",{className:"flex w-7 items-center justify-center",children:t.jsx(W,{name:o?"folder":"description",size:20,className:o?"text-accent":"text-muted"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"truncate text-sm font-medium text-text",children:a}),D?t.jsx("div",{className:"truncate font-mono text-xs text-muted",children:u}):null]}),t.jsx("div",{className:z,children:o?t.jsxs("div",{className:"flex h-8 items-center justify-end gap-1 px-2.5 text-xs font-medium text-muted",children:[t.jsx("span",{children:"进入"}),t.jsx(W,{name:"chevron_right",size:16})]}):j.mode==="renaming"?t.jsxs("div",{className:"grid w-full gap-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($e,{name:`rename-${u}`,value:j.value,onChange:l=>i(u,{...j,value:l.target.value,error:"",phase:"idle"}),onFocus:l=>{l.target.select()},onKeyDown:l=>{l.key==="Enter"?(B(l),$(u)):l.key==="Escape"&&(B(l),h(u))},className:"h-8",placeholder:"新文件名，如 b.pdf",disabled:y,autoFocus:!0}),t.jsx(U,{variant:"ghost",className:"h-8 min-w-8 px-2 text-xs",onClick:l=>{E(l),$(u)},disabled:y,"aria-label":y?"正在改名":"确认改名",title:y?"正在改名":"确认改名",startIcon:y?t.jsx(we,{size:14}):t.jsx(W,{name:"check",size:16})}),t.jsx(U,{variant:"ghost",className:"h-8 min-w-8 px-2 text-xs",onClick:l=>{E(l),h(u)},disabled:y,"aria-label":"取消改名",title:"取消改名",startIcon:t.jsx(W,{name:"close",size:16})})]}),j.error?t.jsx("div",{className:"text-xs text-danger",children:j.error}):null]}):j.mode==="moving"?t.jsxs("div",{className:"grid w-full gap-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ye,{name:`move-${u}`,value:L,className:"h-8",onChange:l=>i(u,{...j,value:H(l.target.value),error:"",phase:"idle"}),onKeyDown:l=>{l.key==="Enter"?(B(l),F(u)):l.key==="Escape"&&(B(l),h(u))},disabled:y,autoFocus:!0,children:p.map(l=>t.jsx("option",{value:l,children:l||"/"},l||"root"))}),t.jsx(U,{variant:"ghost",className:"h-8 min-w-8 px-2 text-xs",onClick:l=>{E(l),F(u)},disabled:y,"aria-label":y?"正在移动":"确认移动",title:y?"正在移动":"确认移动",startIcon:y?t.jsx(we,{size:14}):t.jsx(W,{name:"check",size:16})}),t.jsx(U,{variant:"ghost",className:"h-8 min-w-8 px-2 text-xs",onClick:l=>{E(l),h(u)},disabled:y,"aria-label":"取消移动",title:"取消移动",startIcon:t.jsx(W,{name:"close",size:16})})]}),j.error?t.jsx("div",{className:"text-xs text-danger",children:j.error}):null]}):t.jsxs(ke,{display:"flex",justifyContent:"flex-end",alignItems:"center",flexWrap:"nowrap",gap:.5,className:"w-full opacity-100 transition-opacity md:opacity-0 md:group-hover:opacity-100 md:group-focus-within:opacity-100",children:[t.jsx(U,{variant:"ghost",className:"h-8 gap-1 px-2.5 text-xs",disabled:!u,startIcon:t.jsx(W,{name:"open_in_new",size:16}),onClick:l=>{E(l),u&&window.open(M,"_blank","noopener,noreferrer")},children:"预览"}),t.jsx(U,{variant:"ghost",className:"h-8 gap-1 px-2.5 text-xs",disabled:!u||!w,title:w?void 0:v,startIcon:t.jsx(W,{name:"edit",size:16}),onClick:l=>{E(l),A(u)},children:"改名"}),t.jsx(U,{variant:"ghost",className:"h-8 gap-1 px-2.5 text-xs",disabled:!u||!w,title:w?void 0:v,startIcon:t.jsx(W,{name:"drive_file_move",size:16}),onClick:l=>{E(l),m(u)},children:"移动"}),t.jsx(U,{variant:"danger",className:"h-8 gap-1 px-2.5 text-xs",disabled:!u||!w,title:w?void 0:v,startIcon:t.jsx(W,{name:"delete",size:16}),onClick:l=>{E(l),I(u)},children:"删除"})]})})]},u||f.name)})})})}function Pt({currentPath:e,breadcrumbParts:n,directoryCount:c,status:p,selectedCount:w,fileCount:v,folderName:S,onFolderNameChange:i,capabilities:h,importDisabledReason:A,onNavigate:m,onUploadFiles:$,onDeleteSelected:F,onRefresh:I,onCreateFolder:P}){const T=s.useRef(null),[g,r]=s.useState(!1),b=!h.import_enabled||e!=="",k=h.import_enabled&&w>0,R=h.import_enabled?e?"仅支持在根目录创建子目录":"":A,O=!b&&!!S.trim(),C=N=>{N.preventDefault(),O&&(P(),r(!1))};return t.jsxs("div",{className:"grid gap-3",children:[t.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs(ke,{className:"flex flex-wrap items-center gap-2 text-sm text-text",children:[t.jsxs("a",{href:"/db.html",onClick:N=>{N.preventDefault(),m("")},className:"inline-flex items-center gap-1 rounded-sm px-1 py-0.5 hover:bg-surface-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent",children:[t.jsx(W,{name:"folder",size:16}),"根目录"]}),n.map((N,f)=>{const u=n.slice(0,f+1).join("/");return t.jsxs(je.Fragment,{children:[t.jsx(W,{name:"chevron_right",size:14,className:"text-muted"}),t.jsx("a",{href:Pe(u),onClick:j=>{j.preventDefault(),m(u)},className:"inline-flex items-center rounded-sm px-1 py-0.5 hover:bg-surface-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent",children:N})]},u)})]}),t.jsxs("div",{className:"mt-1 text-xs text-muted",children:["目录 ",c," · 文件 ",v,` · 已选 ${w}`]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:justify-end",children:[t.jsx(U,{variant:"primary",className:"h-10 gap-1.5 px-4",disabled:!h.import_enabled,title:h.import_enabled?"上传 PDF":A,startIcon:t.jsx(W,{name:"upload_file",size:16}),onClick:()=>T.current?.click(),children:"上传 PDF"}),t.jsx("input",{ref:T,type:"file",accept:".pdf,application/pdf",multiple:!0,className:"hidden",onChange:N=>{$(Array.from(N.target.files||[])),N.currentTarget.value=""}}),t.jsx(U,{variant:"ghost",type:"button",className:"h-10 gap-1.5 px-4",disabled:b,title:R||"创建子目录",startIcon:t.jsx(W,{name:"create_new_folder",size:16}),onClick:()=>r(!0),children:"创建子目录"}),t.jsxs(U,{variant:"danger",className:"h-10 gap-1.5 px-4",disabled:!k,title:h.import_enabled?void 0:A,startIcon:t.jsx(W,{name:"delete",size:16}),onClick:F,children:["删除所选",w>0?` (${w})`:""]}),t.jsx(U,{variant:"ghost",className:"h-10 gap-1.5 px-4",startIcon:t.jsx(W,{name:"refresh",size:16}),onClick:I,children:"刷新"})]})]}),p?t.jsx("div",{className:"rounded-md border border-border bg-surface-soft px-3 py-2 text-xs text-muted",children:p}):null,t.jsx("p",{className:"text-xs text-muted",children:"提示：目录单击高亮、双击进入；文件支持 Shift / Cmd(Ctrl) 多选。"}),t.jsx(Te,{open:g,onClose:()=>r(!1),fullWidth:!0,maxWidth:"xs","aria-labelledby":"db-create-folder-title",children:t.jsxs("form",{onSubmit:C,children:[t.jsx(_e,{id:"db-create-folder-title",children:"新建子目录"}),t.jsxs(Re,{children:[t.jsx($e,{id:"db-folder-name",name:"folder_name",value:S,onChange:N=>i(N.target.value),placeholder:"填写新建子目录名称",className:"mt-2 w-full",disabled:b,"aria-label":"新建子目录名称",autoFocus:!0}),R?t.jsx("p",{className:"mt-2 text-xs text-muted",children:R}):null]}),t.jsxs(Ae,{sx:{px:3,pb:2.5},children:[t.jsx(U,{variant:"ghost",type:"button",onClick:()=>r(!1),children:"取消"}),t.jsx(U,{variant:"ghost",type:"submit",disabled:!O,children:"创建"})]})]})})]})}function Q(e){const n=H(e||"");return n&&n.split("/")[0]||""}function $t({initialPath:e}){const[n,c]=s.useState(()=>Q(e||"")),[p,w]=s.useState(()=>new Map),[v,S]=s.useState(()=>new Set([""])),[i,h]=s.useState([]),[A,m]=s.useState([]),[$,F]=s.useState(()=>new Set),[I,P]=s.useState(""),T=s.useRef(p),g=s.useRef(0),r=s.useMemo(()=>{const _=new Set([""]),M=p.get("");for(const y of M?.directories||[])_.add(Q(y.path||""));return Array.from(_.values()).sort((y,o)=>y.localeCompare(o))},[p]),b=$.size,k=n?n.split("/"):[],R=s.useCallback(async(_,M=!1)=>{const y=Q(_||""),o=T.current.get(y);if(!M&&o)return o;const d=await V(`/api/docs/tree?path=${encodeURIComponent(y)}`),x={path:H(d.path||y),directories:Array.isArray(d.directories)?d.directories:[],files:Array.isArray(d.files)?d.files:[]};return w(a=>{const D=new Map(a);return D.set(x.path,x),x.path!==y&&D.set(y,x),T.current=D,D}),x},[]),O=s.useCallback(async(_,M=!1)=>{const y=Q(_||"");await R("",M),y&&await R(y,M)},[R]),C=s.useCallback(_=>{const M=new Set(_.map(y=>H(y.relative_path||y.name||"")));F(y=>{const o=new Set;for(const d of y)M.has(d)&&o.add(d);return o})},[]),N=s.useCallback(async(_,M)=>{const y=g.current+1;g.current=y;const o=!!M?.push,d=!!M?.force,x=Q(_||"");P("加载中...");try{await O(x,d);const a=await R(x,d);if(y!==g.current)return;const D=Q(a.path||x);c(D),h(D?[]:a.directories||[]),m(a.files||[]),C(a.files||[]),S(z=>{const E=new Set(z);return E.add(""),D&&E.add(D),E}),o&&history.pushState({},"",Pe(D)),P("")}catch(a){if(y!==g.current)return;P(`加载失败：${String(a?.message||a)}`),h([]),m([])}},[R,O,C]),f=s.useCallback(async()=>{await N(n,{force:!0,push:!1})},[n,N]),u=s.useCallback(_=>{const M=new Set;for(const y of _){const o=H(y||"");o&&M.add(o)}F(M)},[]),j=s.useCallback(()=>{F(new Set)},[]),L=s.useCallback((_,M)=>{S(y=>{const o=new Set(y);return M?o.add(_):o.delete(_),o})},[]);return{currentPath:n,treeCache:p,expandedDirs:v,directories:i,files:A,selectedPaths:$,status:I,knownDirectories:r,selectedCount:b,breadcrumbParts:k,setStatus:P,setSelection:u,loadDirectory:N,refreshCurrentDirectory:f,ensureTreeNode:R,toggleExpandDir:L,clearSelection:j}}function Nt(e){return e==="success"?"success":e==="failed"?"failed":e==="running"?"running":"queued"}function Tt({onAllJobsSettled:e,pollIntervalMs:n=1500}={}){const[c,p]=s.useState([]),[w,v]=s.useState(()=>new Map),S=s.useRef(new Set),i=s.useRef(""),h=s.useRef(null),A=s.useRef(!1),m=s.useCallback((g,r)=>{const b=Nt(g.status),k=g,R=String(k.relative_path||k.filename||k.path||"-"),O=String(g.error||""),C=String(g.job_id||`${r}-${Date.now()}`);r==="import"&&R&&R!=="-"&&v(N=>{const f=new Map(N);return f.set(R,b),f}),p(N=>{const f=`${r}-${C}`,u=N.filter(j=>j.rowId!==f);return u.unshift({rowId:f,kind:r,status:b,pathText:R,error:O,updatedAt:Date.now()}),u.slice(0,80)})},[]),$=s.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]),F=s.useCallback(async()=>{if(!A.current){A.current=!0;try{const g=[];for(const r of S.current.values())try{const b=await V(`/api/import/${encodeURIComponent(r)}`);m(b,"import"),["success","failed"].includes(String(b.status||""))&&g.push(r)}catch{g.push(r)}if(g.forEach(r=>S.current.delete(r)),i.current)try{const r=await V(`/api/scan/${encodeURIComponent(i.current)}`);m(r,"scan"),["success","failed"].includes(String(r.status||""))&&(i.current="")}catch{i.current=""}S.current.size===0&&!i.current&&($(),e&&await e())}finally{A.current=!1}}},[e,$,m]),I=s.useCallback(()=>{h.current===null&&(h.current=window.setInterval(()=>{F()},n))},[n,F]),P=s.useCallback(g=>{const r=String(g||"").trim();r&&(S.current.add(r),I())},[I]),T=s.useCallback(g=>{const r=String(g||"").trim();r&&(i.current=r,I())},[I]);return s.useEffect(()=>()=>{$()},[$]),{jobs:c,jobStatusByPath:w,upsertJob:m,startImportJob:P,startScanJob:T,stopAllPolling:$}}function At(){const e=Date.now();return{upload:{phase:"idle",message:"",updatedAt:e},batchDelete:{phase:"idle",message:"",updatedAt:e},rescan:{phase:"idle",message:"",updatedAt:e},createFolder:{phase:"idle",message:"",updatedAt:e}}}function re(e,n=""){return{mode:e,value:n,error:"",phase:"idle"}}function Rt({currentPath:e,visibleFiles:n,capabilities:c,importDisabledReason:p,scanDisabledReason:w,refreshCurrentDirectory:v,clearSelection:S,setStatus:i,upsertJob:h,startImportJob:A,startScanJob:m}){const[$,F]=s.useState({}),[I,P]=s.useState(()=>At()),[T,g]=s.useState(null);s.useEffect(()=>{const o=new Set(n.map(d=>H(d.relative_path||d.name||"")));F(d=>{const x={};for(const[a,D]of Object.entries(d))o.has(a)&&(x[a]=D);return x})},[n]);const r=s.useCallback((o,d,x,a)=>{P(D=>({...D,[o]:{phase:d,message:x,updatedAt:Date.now(),...a?{error:a}:{}}})),g(x?{phase:d,message:x}:null)},[]),b=s.useCallback(o=>$[o]||re("normal"),[$]),k=s.useCallback((o,d)=>{F(x=>({...x,[o]:d}))},[]),R=s.useCallback(o=>{F(d=>{const x={...d};return delete x[o],x})},[]),O=s.useCallback(o=>{const d=(o.results||[]).filter(x=>!x.ok);return d.length===0?"":d.slice(0,3).map(x=>{const a=String(x.path||"-");if(String(x.error_code||"").toUpperCase()==="CONFLICT"){const z=Array.isArray(x.details?.candidates)?x.details.candidates.slice(0,3).join(", "):"";return z?`${a}: 命名冲突，请使用完整相对路径，候选: ${z}`:`${a}: 命名冲突，请使用完整相对路径`}return`${a}: ${String(x.error||"unknown error")}`}).join(" | ")},[]),C=s.useCallback(async o=>{if(!c.import_enabled){const a=p||"导入服务不可用";r("batchDelete","error",`删除不可用：${a}`,a),i(`删除不可用：${a}`);return}const d=o.map(a=>H(a||"")).filter(Boolean);if(d.length===0)return;const x=`正在删除 ${d.length} 个文件...`;r("batchDelete","pending",x),i(x);try{const a=await V("/api/docs/batch-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paths:d})}),D=O(a),z=D?`删除完成：成功 ${a.deleted}/${a.total}，失败 ${a.failed}（${D}）`:`删除完成：成功 ${a.deleted}/${a.total}，失败 ${a.failed}`,E=a.failed>0?"error":"success";r("batchDelete",E,z,a.failed>0?D||"partial failed":void 0),i(z),S(),await v()}catch(a){const D=String(a?.message||a);r("batchDelete","error",`删除失败：${D}`,D),i(`删除失败：${D}`)}},[c.import_enabled,S,O,p,v,i,r]),N=s.useCallback(async o=>{if(!c.import_enabled){const E=p||"导入服务不可用";r("upload","error",`上传不可用：${E}`,E),i(`上传不可用：${E}`);return}if(o.length===0){i("请选择 PDF 文件");return}const d=`准备上传 ${o.length} 个文件...`;r("upload","pending",d),i(d);let x=0,a=0;for(const E of o)try{const B=await fetch(`/api/import?filename=${encodeURIComponent(E.name)}&target_dir=${encodeURIComponent(e)}`,{method:"POST",headers:{Accept:"application/json","Content-Type":E.type||"application/pdf","X-File-Name":E.name,"X-Target-Dir":e},body:E}),K=await B.json().catch(()=>({}));if(!B.ok)throw new Error(String(K.message||`${B.status} ${B.statusText}`));x+=1,h(K,"import"),A(String(K.job_id||""))}catch(B){a+=1,h({job_id:`error-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,filename:E.name,status:"failed",error:String(B?.message||B)},"import")}const D=`上传提交完成：成功 ${x}/${o.length}，失败 ${a}`,z=a>0?"error":"success";r("upload",z,D,a>0?"partial failed":void 0),i(D)},[c.import_enabled,e,p,i,A,r,h]),f=s.useCallback(async(o,d)=>{if(!c.import_enabled){const a=p||"导入服务不可用";r("createFolder","error",`创建目录不可用：${a}`,a),i(`创建目录不可用：${a}`);return}const x=o.trim();if(!x){r("createFolder","error","创建失败：请输入目录名","missing folder name");return}if(H(e)!==""){const a="仅支持在根目录创建子目录";r("createFolder","error",a,"root-only"),i(a);return}r("createFolder","pending",`正在创建目录：${x}`);try{await V("/api/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,name:x})}),d?.(),await v();const a=`创建目录成功：${H(e)||"/"} / ${x}`;r("createFolder","success",a),i(a)}catch(a){const D=String(a?.message||a);r("createFolder","error",`创建失败：${D}`,D),i(`创建失败：${D}`)}},[c.import_enabled,e,p,v,i,r]),u=s.useCallback(async()=>{if(!c.scan_enabled){const o=w||"重扫服务不可用";r("rescan","error",`重扫不可用：${o}`,o),i(`重扫不可用：${o}`);return}r("rescan","pending",`正在提交重扫任务：${H(e)||"/"}`);try{const o=await V(`/api/scan?path=${encodeURIComponent(e)}`,{method:"POST"}),d=String(o.job_id||"");if(!d)throw new Error("scan job id missing");h(o,"scan"),m(d);const x=`重扫任务已提交：${d}`;r("rescan","success",x),i(x)}catch(o){const d=String(o?.message||o);r("rescan","error",`触发重扫失败：${d}`,d),i(`触发重扫失败：${d}`)}},[c.scan_enabled,e,w,i,m,r,h]),j=s.useCallback(o=>{const d=o.split("/").pop()||o;k(o,re("renaming",d))},[k]),L=s.useCallback(o=>{k(o,re("moving",e))},[e,k]),_=s.useCallback(async o=>{if(!c.import_enabled){const a=p||"导入服务不可用";k(o,{...re("renaming"),error:a,phase:"error"});return}const d=b(o),x=d.value.trim();if(!x){k(o,{...d,error:"请输入新文件名",phase:"error"});return}k(o,{...d,error:"",phase:"pending"});try{const a=await V("/api/docs/rename",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:o,new_name:x})});k(o,{...d,phase:"success"}),R(o),i(`改名成功：${a.old_path} -> ${a.new_path}`),await v()}catch(a){const D=String(a?.message||a);k(o,{...d,error:D,phase:"error"})}},[c.import_enabled,R,b,p,v,k,i]),M=s.useCallback(async o=>{if(!c.import_enabled){const a=p||"导入服务不可用";k(o,{...re("moving"),error:a,phase:"error"});return}const d=b(o),x=H(d.value||"");k(o,{...d,error:"",phase:"pending"});try{const a=await V("/api/docs/move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:o,target_dir:x})});k(o,{...d,phase:"success"}),R(o),i(`移动成功：${a.old_path} -> ${a.new_path}`),await v()}catch(a){const D=String(a?.message||a);k(o,{...d,error:D,phase:"error"})}},[c.import_enabled,R,b,p,v,k,i]),y=s.useMemo(()=>({getRowActionState:b,setRowActionState:k,clearRowActionState:R,beginRename:j,beginMove:L,applyRename:_,applyMove:M}),[M,_,L,j,R,b,k]);return{globalActionState:I,actionFeedback:T,rowActions:y,deleteSelected:C,submitUploads:N,createFolder:f,triggerRescan:u}}function _t(){const[e,n]=s.useState(""),[c,p]=s.useState(!1),[w,v]=s.useState(!1),[S,i]=s.useState([]),[h,A]=s.useState({import_enabled:!0,scan_enabled:!0,import_reason:"",scan_reason:""}),m=$t({initialPath:me(window.location.search)}),$=m.setStatus,F=h.import_enabled?"":String(h.import_reason||"导入服务不可用"),I=h.scan_enabled?"":String(h.scan_reason||"重扫服务不可用"),P=s.useCallback(async()=>{try{const C=await V("/api/capabilities");A({import_enabled:!!C.import_enabled,scan_enabled:!!C.scan_enabled,import_reason:String(C.import_reason||""),scan_reason:String(C.scan_reason||"")})}catch(C){const N=String(C?.message||C);$(`加载能力信息失败：${N}`)}},[$]),T=Tt({onAllJobsSettled:async()=>{await m.refreshCurrentDirectory()}}),g=Rt({currentPath:m.currentPath,visibleFiles:m.files,capabilities:h,importDisabledReason:F,scanDisabledReason:I,refreshCurrentDirectory:m.refreshCurrentDirectory,clearSelection:m.clearSelection,setStatus:m.setStatus,upsertJob:T.upsertJob,startImportJob:T.startImportJob,startScanJob:T.startScanJob}),r=s.useMemo(()=>{const C=m.directories.map(f=>({name:String(f.name||f.path||"").split("/").pop()||f.path||"-",relative_path:f.path,indexed:!0,is_dir:!0})),N=m.files.map(f=>({...f,is_dir:!1}));return[...C,...N]},[m.directories,m.files]),b=s.useMemo(()=>S.slice(0,6),[S]),k=s.useCallback(C=>{const N=C.map(f=>String(f||"").trim()).filter(Boolean);N.length!==0&&(i(N),v(!0))},[]),R=s.useCallback(()=>{v(!1),i([])},[]),O=s.useCallback(async()=>{const C=[...S];R(),C.length!==0&&await g.deleteSelected(C)},[R,S,g]);return s.useEffect(()=>{g.actionFeedback?.message&&p(!0)},[g.actionFeedback]),s.useEffect(()=>{const C=()=>{m.loadDirectory(me(window.location.search),{push:!1,force:!1})};return window.addEventListener("popstate",C),P(),m.loadDirectory(me(window.location.search),{push:!1,force:!0}),()=>{window.removeEventListener("popstate",C),T.stopAllPolling()}},[]),t.jsxs(ze,{actions:[{href:"/search.html",label:"搜索"}],hideHeaderTitle:!0,children:[t.jsx("div",{className:"grid gap-4",children:t.jsxs(We,{className:"grid min-w-0 gap-4 p-4",children:[t.jsx(Pt,{currentPath:m.currentPath,breadcrumbParts:m.breadcrumbParts,directoryCount:m.directories.length,status:m.status,selectedCount:m.selectedCount,fileCount:m.files.length,folderName:e,onFolderNameChange:n,capabilities:h,importDisabledReason:F,onNavigate:C=>{m.loadDirectory(C,{push:!0,force:!1})},onUploadFiles:C=>{g.submitUploads(C)},onDeleteSelected:()=>k(Array.from(m.selectedPaths)),onRefresh:()=>{m.refreshCurrentDirectory()},onCreateFolder:()=>{g.createFolder(e,()=>{n("")})}}),t.jsx(Dt,{items:r,selectedPaths:m.selectedPaths,onSelectionChange:m.setSelection,knownDirectories:m.knownDirectories,capabilitiesImportEnabled:h.import_enabled,importDisabledReason:F,getRowActionState:g.rowActions.getRowActionState,onSetRowActionState:g.rowActions.setRowActionState,onClearRowActionState:g.rowActions.clearRowActionState,onBeginRename:g.rowActions.beginRename,onBeginMove:g.rowActions.beginMove,onApplyRename:C=>{g.rowActions.applyRename(C)},onApplyMove:C=>{g.rowActions.applyMove(C)},onDeleteSingle:C=>k([C]),onOpenDirectory:C=>{m.loadDirectory(C,{push:!0,force:!1})}})]})}),t.jsxs(Te,{open:w,onClose:R,fullWidth:!0,maxWidth:"sm","aria-labelledby":"db-delete-dialog-title",children:[t.jsx(_e,{id:"db-delete-dialog-title",children:"确认删除"}),t.jsxs(Re,{children:[t.jsxs("div",{className:"mt-1 text-sm text-text",children:["将删除 ",S.length," 个文件，对应数据库记录和磁盘文件都会被移除。"]}),t.jsxs("div",{className:"mt-3 rounded-md border border-border bg-surface-soft px-3 py-2",children:[t.jsx("div",{className:"text-xs text-muted",children:"示例路径："}),t.jsxs("ul",{className:"mt-1 space-y-1 text-xs text-text",children:[b.map(C=>t.jsx("li",{className:"font-mono",children:C},C)),S.length>b.length?t.jsx("li",{className:"text-muted",children:"..."}):null]})]})]}),t.jsxs(Ae,{sx:{px:3,pb:2.5},children:[t.jsx(U,{variant:"ghost",onClick:R,children:"取消"}),t.jsx(U,{variant:"danger",onClick:()=>{O()},children:"确认删除"})]})]}),t.jsx(jt,{open:c,autoHideDuration:2800,onClose:()=>p(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(Je,{onClose:()=>p(!1),severity:g.actionFeedback?.phase==="error"?"error":g.actionFeedback?.phase==="pending"?"info":"success",variant:"filled",children:g.actionFeedback?.message||"操作完成"})})]})}Fe.createRoot(document.getElementById("root")).render(t.jsx(je.StrictMode,{children:t.jsx(Ie,{children:t.jsx(_t,{})})}));
