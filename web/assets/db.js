import{r as a,a as ie,g as Hn,b as Un,R as qe,u as Ve,j as d,d as de,e as ue,f as pe,h as se,i as Kn,k as kn,l as Bt,m as zt,n as qn,o as Yt,M as Fe,B as Vn,D as Xn,c as Gn,A as Jn}from"./chunks/AppProviders.js";import{_ as Yn,d as Qn,e as Pn,r as Zn,m as eo,u as Pe,g as to,h as Xe,i as Nt,j as G,k as he,l as le,n as no,o as gt,q as re,t as jt,P as bt,T as oo,v as Ne,w as xt,x as En,y as ro,z as be,E as so,C as kt,D as Rn,B as Se,f as ke,F as Pt,A as io}from"./chunks/urlState.js";import{C as ao}from"./chunks/Card.js";function Et(e,t){return a.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}function Qt(...e){return e.reduce((t,n)=>n==null?t:function(...r){t.apply(this,r),n.apply(this,r)},()=>{})}function Tn(e,t=166){let n;function o(...r){const s=()=>{e.apply(this,r)};clearTimeout(n),n=setTimeout(s,t)}return o.clear=()=>{clearTimeout(n)},o}function we(e){return e&&e.ownerDocument||document}function Ie(e){return we(e).defaultView||window}function Zt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function en(e){const{controlled:t,default:n,name:o,state:r="value"}=e,{current:s}=a.useRef(t!==void 0),[i,c]=a.useState(n),l=s?t:i,b=a.useCallback(v=>{s||c(v)},[]);return[l,b]}function lo(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function co(e,t){if(!e)return t;function n(i,c){const l={};return Object.keys(c).forEach(b=>{lo(b,c[b])&&typeof i[b]=="function"&&(l[b]=(...v)=>{i[b](...v),c[b](...v)})}),l}if(typeof e=="function"||typeof t=="function")return i=>{const c=typeof t=="function"?t(i):t,l=typeof e=="function"?e({...i,...c}):e,b=ie(i?.className,c?.className,l?.className),v=n(l,c);return{...c,...l,...v,...!!b&&{className:b},...c?.style&&l?.style&&{style:{...c.style,...l.style}},...c?.sx&&l?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const o=t,r=n(e,o),s=ie(o?.className,e?.className);return{...t,...e,...r,...!!s&&{className:s},...o?.style&&e?.style&&{style:{...o.style,...e.style}},...o?.sx&&e?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}var Mn=Un();const lt=Hn(Mn),tn={disabled:!1};var uo=function(t){return t.scrollTop},nt="unmounted",Oe="exited",Le="entering",Ke="entered",Ft="exiting",Te=(function(e){Yn(t,e);function t(o,r){var s;s=e.call(this,o,r)||this;var i=r,c=i&&!i.isMounting?o.enter:o.appear,l;return s.appearStatus=null,o.in?c?(l=Oe,s.appearStatus=Le):l=Ke:o.unmountOnExit||o.mountOnEnter?l=nt:l=Oe,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===nt?{status:Oe}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==Le&&i!==Ke&&(s=Le):(i===Le||i===Ke)&&(s=Ft)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,i,c;return s=i=c=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,c=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:c}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Le){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:lt.findDOMNode(this);i&&uo(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oe&&this.setState({status:nt})},n.performEnter=function(r){var s=this,i=this.props.enter,c=this.context?this.context.isMounting:r,l=this.props.nodeRef?[c]:[lt.findDOMNode(this),c],b=l[0],v=l[1],k=this.getTimeouts(),w=c?k.appear:k.enter;if(!r&&!i||tn.disabled){this.safeSetState({status:Ke},function(){s.props.onEntered(b)});return}this.props.onEnter(b,v),this.safeSetState({status:Le},function(){s.props.onEntering(b,v),s.onTransitionEnd(w,function(){s.safeSetState({status:Ke},function(){s.props.onEntered(b,v)})})})},n.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),c=this.props.nodeRef?void 0:lt.findDOMNode(this);if(!s||tn.disabled){this.safeSetState({status:Oe},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Ft},function(){r.props.onExiting(c),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:Oe},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(c){i&&(i=!1,s.nextCallback=null,r(c))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:lt.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!i||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],b=l[0],v=l[1];this.props.addEndListener(b,v)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===nt)return null;var s=this.props,i=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=Qn(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qe.createElement(Pn.Provider,{value:null},typeof i=="function"?i(r,c):qe.cloneElement(qe.Children.only(i),c))},t})(qe.Component);Te.contextType=Pn;Te.propTypes={};function He(){}Te.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:He,onEntering:He,onEntered:He,onExit:He,onExiting:He,onExited:He};Te.UNMOUNTED=nt;Te.EXITED=Oe;Te.ENTERING=Le;Te.ENTERED=Ke;Te.EXITING=Ft;const In=e=>e.scrollTop;function pt(e,t){const{timeout:n,easing:o,style:r={}}=e;return{duration:r.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:r.transitionTimingFunction??(typeof o=="object"?o[t.mode]:o),delay:r.transitionDelay}}function po(e){const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:r=!1,...s}=e,i=r?{}:Zn(n,o),{props:c,internalRef:l}=eo({...s,externalSlotProps:i}),b=Pe(l,i?.ref,e.additionalProps?.ref);return to(t,{...c,ref:b},o)}function Je(e){return parseInt(a.version,10)>=19?e?.props?.ref||null:e?.ref||null}function fo(e){return typeof e=="function"?e():e}const mo=a.forwardRef(function(t,n){const{children:o,container:r,disablePortal:s=!1}=t,[i,c]=a.useState(null),l=Pe(a.isValidElement(o)?Je(o):null,n);if(Ve(()=>{s||c(fo(r)||document.body)},[r,s]),Ve(()=>{if(i&&!s)return Zt(n,i),()=>{Zt(n,null)}},[n,i,s]),s){if(a.isValidElement(o)){const b={ref:l};return a.cloneElement(o,b)}return o}return i&&Mn.createPortal(o,i)});function ct(e){return parseInt(e,10)||0}const ho={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function go(e){for(const t in e)return!1;return!0}function nn(e){return go(e)||e.outerHeightStyle===0&&!e.overflowing}const bo=a.forwardRef(function(t,n){const{onChange:o,maxRows:r,minRows:s=1,style:i,value:c,...l}=t,{current:b}=a.useRef(c!=null),v=a.useRef(null),k=Pe(n,v),w=a.useRef(null),P=a.useRef(null),C=a.useCallback(()=>{const u=v.current,f=P.current;if(!u||!f)return;const I=Ie(u).getComputedStyle(u);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};f.style.width=I.width,f.value=u.value||t.placeholder||"x",f.value.slice(-1)===`
`&&(f.value+=" ");const p=I.boxSizing,N=ct(I.paddingBottom)+ct(I.paddingTop),F=ct(I.borderBottomWidth)+ct(I.borderTopWidth),L=f.scrollHeight;f.value="x";const z=f.scrollHeight;let _=L;s&&(_=Math.max(Number(s)*z,_)),r&&(_=Math.min(Number(r)*z,_)),_=Math.max(_,z);const A=_+(p==="border-box"?N+F:0),x=Math.abs(_-L)<=1;return{outerHeightStyle:A,overflowing:x}},[r,s,t.placeholder]),D=Xe(()=>{const u=v.current,f=C();if(!u||!f||nn(f))return!1;const h=f.outerHeightStyle;return w.current!=null&&w.current!==h}),S=a.useCallback(()=>{const u=v.current,f=C();if(!u||!f||nn(f))return;const h=f.outerHeightStyle;w.current!==h&&(w.current=h,u.style.height=`${h}px`),u.style.overflow=f.overflowing?"hidden":""},[C]),m=a.useRef(-1);Ve(()=>{const u=Tn(S),f=v?.current;if(!f)return;const h=Ie(f);h.addEventListener("resize",u);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{D()&&(I.unobserve(f),cancelAnimationFrame(m.current),S(),m.current=requestAnimationFrame(()=>{I.observe(f)}))}),I.observe(f)),()=>{u.clear(),cancelAnimationFrame(m.current),h.removeEventListener("resize",u),I&&I.disconnect()}},[C,S,D]),Ve(()=>{S()});const E=u=>{b||S();const f=u.target,h=f.value.length,I=f.value.endsWith(`
`),p=f.selectionStart===h;I&&p&&f.setSelectionRange(h,h),o&&o(u)};return d.jsxs(a.Fragment,{children:[d.jsx("textarea",{value:c,onChange:E,ref:k,rows:s,style:i,...l}),d.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:P,tabIndex:-1,style:{...ho.shadow,...i,paddingTop:0,paddingBottom:0}})]})});function Ye({props:e,states:t,muiFormControl:n}){return t.reduce((o,r)=>(o[r]=e[r],n&&typeof e[r]>"u"&&(o[r]=n[r]),o),{})}const Wt=a.createContext(void 0);function Qe(){return a.useContext(Wt)}function on(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ft(e,t=!1){return e&&(on(e.value)&&e.value!==""||t&&on(e.defaultValue)&&e.defaultValue!=="")}function xo(e){return e.startAdornment}function yo(e){return ue("MuiInputBase",e)}const Ge=de("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var rn;const yt=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${se(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},vt=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},vo=e=>{const{classes:t,color:n,disabled:o,error:r,endAdornment:s,focused:i,formControl:c,fullWidth:l,hiddenLabel:b,multiline:v,readOnly:k,size:w,startAdornment:P,type:C}=e,D={root:["root",`color${se(n)}`,o&&"disabled",r&&"error",l&&"fullWidth",i&&"focused",c&&"formControl",w&&w!=="medium"&&`size${se(w)}`,v&&"multiline",P&&"adornedStart",s&&"adornedEnd",b&&"hiddenLabel",k&&"readOnly"],input:["input",o&&"disabled",C==="search"&&"inputTypeSearch",v&&"inputMultiline",w==="small"&&"inputSizeSmall",b&&"inputHiddenLabel",P&&"inputAdornedStart",s&&"inputAdornedEnd",k&&"readOnly"]};return le(D,yo,t)},wt=G("div",{name:"MuiInputBase",slot:"Root",overridesResolver:yt})(he(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ge.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Ct=G("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vt})(he(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},r=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ge.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Ge.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),sn=Kn({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Ht=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:i,className:c,color:l,components:b={},componentsProps:v={},defaultValue:k,disabled:w,disableInjectingGlobalStyles:P,endAdornment:C,error:D,fullWidth:S=!1,id:m,inputComponent:E="input",inputProps:u={},inputRef:f,margin:h,maxRows:I,minRows:p,multiline:N=!1,name:F,onBlur:L,onChange:z,onClick:_,onFocus:A,onKeyDown:x,onKeyUp:y,placeholder:T,readOnly:B,renderSuffix:W,rows:O,size:X,slotProps:J={},slots:Z={},startAdornment:Q,type:j="text",value:M,...$}=o,g=u.value!=null?u.value:M,{current:R}=a.useRef(g!=null),H=a.useRef(),V=a.useCallback(ae=>{},[]),q=Pe(H,f,u.ref,V),[ee,te]=a.useState(!1),U=Qe(),Y=Ye({props:o,muiFormControl:U,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=U?U.focused:ee,a.useEffect(()=>{!U&&w&&ee&&(te(!1),L&&L())},[U,w,ee,L]);const ne=U&&U.onFilled,xe=U&&U.onEmpty,fe=a.useCallback(ae=>{ft(ae)?ne&&ne():xe&&xe()},[ne,xe]);Ve(()=>{R&&fe({value:g})},[g,fe,R]);const ye=ae=>{A&&A(ae),u.onFocus&&u.onFocus(ae),U&&U.onFocus?U.onFocus(ae):te(!0)},ve=ae=>{L&&L(ae),u.onBlur&&u.onBlur(ae),U&&U.onBlur?U.onBlur(ae):te(!1)},ce=(ae,...Me)=>{if(!R){const ze=ae.target||H.current;if(ze==null)throw new Error(kn(1));fe({value:ze.value})}u.onChange&&u.onChange(ae,...Me),z&&z(ae,...Me)};a.useEffect(()=>{fe(H.current)},[]);const Ce=ae=>{H.current&&ae.currentTarget===ae.target&&H.current.focus(),_&&_(ae)};let Ae=E,me=u;N&&Ae==="input"&&(O?me={type:void 0,minRows:O,maxRows:O,...me}:me={type:void 0,maxRows:I,minRows:p,...me},Ae=bo);const it=ae=>{fe(ae.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};a.useEffect(()=>{U&&U.setAdornedStart(!!Q)},[U,Q]);const je={...o,color:Y.color||"primary",disabled:Y.disabled,endAdornment:C,error:Y.error,focused:Y.focused,formControl:U,fullWidth:S,hiddenLabel:Y.hiddenLabel,multiline:N,size:Y.size,startAdornment:Q,type:j},$e=vo(je),at=Z.root||b.Root||wt,_e=J.root||v.root||{},Be=Z.input||b.Input||Ct;return me={...me,...J.input??v.input},d.jsxs(a.Fragment,{children:[!P&&typeof sn=="function"&&(rn||(rn=d.jsx(sn,{}))),d.jsxs(at,{..._e,ref:n,onClick:Ce,...$,...!Nt(at)&&{ownerState:{...je,..._e.ownerState}},className:ie($e.root,_e.className,c,B&&"MuiInputBase-readOnly"),children:[Q,d.jsx(Wt.Provider,{value:null,children:d.jsx(Be,{"aria-invalid":Y.error,"aria-describedby":r,autoComplete:s,autoFocus:i,defaultValue:k,disabled:Y.disabled,id:m,onAnimationStart:it,name:F,placeholder:T,readOnly:B,required:Y.required,rows:O,value:g,onKeyDown:x,onKeyUp:y,type:j,...me,...!Nt(Be)&&{as:Ae,ownerState:{...je,...me.ownerState}},ref:q,className:ie($e.input,me.className,B&&"MuiInputBase-readOnly"),onBlur:ve,onChange:ce,onFocus:ye})}),C,W?W({...Y,startAdornment:Q}):null]})]})});function wo(e){return ue("MuiInput",e)}const Ze={...Ge,...de("MuiInput",["root","underline","input"])};function Co(e){return ue("MuiOutlinedInput",e)}const Ee={...Ge,...de("MuiOutlinedInput",["root","notchedOutline","input"])};function So(e){return ue("MuiFilledInput",e)}const De={...Ge,...de("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ko=no(d.jsx("path",{d:"M7 10l5 5 5-5z"})),Po={entering:{opacity:1},entered:{opacity:1}},At=a.forwardRef(function(t,n){const o=gt(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:c,easing:l,in:b,onEnter:v,onEntered:k,onEntering:w,onExit:P,onExited:C,onExiting:D,style:S,timeout:m=r,TransitionComponent:E=Te,...u}=t,f=a.useRef(null),h=Pe(f,Je(c),n),I=x=>y=>{if(x){const T=f.current;y===void 0?x(T):x(T,y)}},p=I(w),N=I((x,y)=>{In(x);const T=pt({style:S,timeout:m,easing:l},{mode:"enter"});x.style.webkitTransition=o.transitions.create("opacity",T),x.style.transition=o.transitions.create("opacity",T),v&&v(x,y)}),F=I(k),L=I(D),z=I(x=>{const y=pt({style:S,timeout:m,easing:l},{mode:"exit"});x.style.webkitTransition=o.transitions.create("opacity",y),x.style.transition=o.transitions.create("opacity",y),P&&P(x)}),_=I(C),A=x=>{s&&s(f.current,x)};return d.jsx(E,{appear:i,in:b,nodeRef:f,onEnter:N,onEntered:F,onEntering:p,onExit:z,onExited:_,onExiting:L,addEndListener:A,timeout:m,...u,children:(x,{ownerState:y,...T})=>a.cloneElement(c,{style:{opacity:0,visibility:x==="exited"&&!b?"hidden":void 0,...Po[x],...S,...c.props.style},ref:h,...T})})});function Eo(e){return ue("MuiBackdrop",e)}de("MuiBackdrop",["root","invisible"]);const Ro=e=>{const{classes:t,invisible:n}=e;return le({root:["root",n&&"invisible"]},Eo,t)},To=G("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Nn=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiBackdrop"}),{children:r,className:s,component:i="div",invisible:c=!1,open:l,components:b={},componentsProps:v={},slotProps:k={},slots:w={},TransitionComponent:P,transitionDuration:C,...D}=o,S={...o,component:i,invisible:c},m=Ro(S),E={transition:P,root:b.Root,...w},u={...v,...k},f={component:i,slots:E,slotProps:u},[h,I]=re("root",{elementType:To,externalForwardedProps:f,className:ie(m.root,s),ownerState:S}),[p,N]=re("transition",{elementType:At,externalForwardedProps:f,ownerState:S});return d.jsx(p,{in:l,timeout:C,...D,...N,children:d.jsx(h,{"aria-hidden":!0,...I,ref:n,children:r})})});function an(e){return e.substring(2).toLowerCase()}function Mo(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Io(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=e,i=a.useRef(!1),c=a.useRef(null),l=a.useRef(!1),b=a.useRef(!1);a.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const v=Pe(Je(t),c),k=Xe(C=>{const D=b.current;b.current=!1;const S=we(c.current);if(!l.current||!c.current||"clientX"in C&&Mo(C,S))return;if(i.current){i.current=!1;return}let m;C.composedPath?m=C.composedPath().includes(c.current):m=!S.documentElement.contains(C.target)||c.current.contains(C.target),!m&&(n||!D)&&r(C)}),w=C=>D=>{b.current=!0;const S=t.props[C];S&&S(D)},P={ref:v};return s!==!1&&(P[s]=w(s)),a.useEffect(()=>{if(s!==!1){const C=an(s),D=we(c.current),S=()=>{i.current=!0};return D.addEventListener(C,k),D.addEventListener("touchmove",S),()=>{D.removeEventListener(C,k),D.removeEventListener("touchmove",S)}}},[k,s]),o!==!1&&(P[o]=w(o)),a.useEffect(()=>{if(o!==!1){const C=an(o),D=we(c.current);return D.addEventListener(C,k),()=>{D.removeEventListener(C,k)}}},[k,o]),a.cloneElement(t,P)}function jn(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function No(e){const t=we(e);return t.body===e?Ie(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function rt(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ln(e){return parseFloat(Ie(e).getComputedStyle(e).paddingRight)||0}function jo(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||o}function cn(e,t,n,o,r){const s=[t,n,...o];[].forEach.call(e.children,i=>{const c=!s.includes(i),l=!jo(i);c&&l&&rt(i,r)})}function Rt(e,t){let n=-1;return e.some((o,r)=>t(o)?(n=r,!0):!1),n}function Fo(e,t){const n=[],o=e.container;if(!t.disableScrollLock){if(No(o)){const i=jn(Ie(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${ln(o)+i}px`;const c=we(o).querySelectorAll(".mui-fixed");[].forEach.call(c,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${ln(l)+i}px`})}let s;if(o.parentNode instanceof DocumentFragment)s=we(o).body;else{const i=o.parentElement,c=Ie(o);s=i?.nodeName==="HTML"&&c.getComputedStyle(i).overflowY==="scroll"?i:o}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:i,property:c})=>{s?i.style.setProperty(c,s):i.style.removeProperty(c)})}}function Ao(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class $o{constructor(){this.modals=[],this.containers=[]}add(t,n){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&rt(t.modalRef,!1);const r=Ao(n);cn(n,t.mount,t.modalRef,r,!0);const s=Rt(this.containers,i=>i.container===n);return s!==-1?(this.containers[s].modals.push(t),o):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:r}),o)}mount(t,n){const o=Rt(this.containers,s=>s.modals.includes(t)),r=this.containers[o];r.restore||(r.restore=Fo(r,n))}remove(t,n=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const r=Rt(this.containers,i=>i.modals.includes(t)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(o,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&rt(t.modalRef,n),cn(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const i=s.modals[s.modals.length-1];i.modalRef&&rt(i.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function ot(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const Do=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Oo(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Lo(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function _o(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Lo(e))}function Bo(e){const t=[],n=[];return Array.from(e.querySelectorAll(Do)).forEach((o,r)=>{const s=Oo(o);s===-1||!_o(o)||(s===0?t.push(o):n.push({documentOrder:r,tabIndex:s,node:o}))}),n.sort((o,r)=>o.tabIndex===r.tabIndex?o.documentOrder-r.documentOrder:o.tabIndex-r.tabIndex).map(o=>o.node).concat(t)}function zo(){return!0}function Wo(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:r=!1,getTabbable:s=Bo,isEnabled:i=zo,open:c}=e,l=a.useRef(!1),b=a.useRef(null),v=a.useRef(null),k=a.useRef(null),w=a.useRef(null),P=a.useRef(!1),C=a.useRef(null),D=Pe(Je(t),C),S=a.useRef(null);a.useEffect(()=>{!c||!C.current||(P.current=!n)},[n,c]),a.useEffect(()=>{if(!c||!C.current)return;const u=we(C.current),f=ot(u);return C.current.contains(f)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),P.current&&C.current.focus()),()=>{r||(k.current&&k.current.focus&&(l.current=!0,k.current.focus()),k.current=null)}},[c]),a.useEffect(()=>{if(!c||!C.current)return;const u=we(C.current),f=p=>{if(S.current=p,o||!i()||p.key!=="Tab")return;ot(u)===C.current&&p.shiftKey&&(l.current=!0,v.current&&v.current.focus())},h=()=>{const p=C.current;if(p===null)return;const N=ot(u);if(!u.hasFocus()||!i()||l.current){l.current=!1;return}if(p.contains(N)||o&&N!==b.current&&N!==v.current)return;if(N!==w.current)w.current=null;else if(w.current!==null)return;if(!P.current)return;let F=[];if((N===b.current||N===v.current)&&(F=s(C.current)),F.length>0){const L=!!(S.current?.shiftKey&&S.current?.key==="Tab"),z=F[0],_=F[F.length-1];typeof z!="string"&&typeof _!="string"&&(L?_.focus():z.focus())}else p.focus()};u.addEventListener("focusin",h),u.addEventListener("keydown",f,!0);const I=setInterval(()=>{const p=ot(u);p&&p.tagName==="BODY"&&h()},50);return()=>{clearInterval(I),u.removeEventListener("focusin",h),u.removeEventListener("keydown",f,!0)}},[n,o,r,i,c,s]);const m=u=>{k.current===null&&(k.current=u.relatedTarget),P.current=!0,w.current=u.target;const f=t.props.onFocus;f&&f(u)},E=u=>{k.current===null&&(k.current=u.relatedTarget),P.current=!0};return d.jsxs(a.Fragment,{children:[d.jsx("div",{tabIndex:c?0:-1,onFocus:E,ref:b,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:D,onFocus:m}),d.jsx("div",{tabIndex:c?0:-1,onFocus:E,ref:v,"data-testid":"sentinelEnd"})]})}function Ho(e){return typeof e=="function"?e():e}function Uo(e){return e?e.props.hasOwnProperty("in"):!1}const dn=()=>{},dt=new $o;function Ko(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:i,children:c,onClose:l,open:b,rootRef:v}=e,k=a.useRef({}),w=a.useRef(null),P=a.useRef(null),C=Pe(P,v),[D,S]=a.useState(!b),m=Uo(c);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const u=()=>we(w.current),f=()=>(k.current.modalRef=P.current,k.current.mount=w.current,k.current),h=()=>{dt.mount(f(),{disableScrollLock:o}),P.current&&(P.current.scrollTop=0)},I=Xe(()=>{const y=Ho(t)||u().body;dt.add(f(),y),P.current&&h()}),p=()=>dt.isTopModal(f()),N=Xe(y=>{w.current=y,y&&(b&&p()?h():P.current&&rt(P.current,E))}),F=a.useCallback(()=>{dt.remove(f(),E)},[E]);a.useEffect(()=>()=>{F()},[F]),a.useEffect(()=>{b?I():(!m||!r)&&F()},[b,F,m,r,I]);const L=y=>T=>{y.onKeyDown?.(T),!(T.key!=="Escape"||T.which===229||!p())&&(n||(T.stopPropagation(),l&&l(T,"escapeKeyDown")))},z=y=>T=>{y.onClick?.(T),T.target===T.currentTarget&&l&&l(T,"backdropClick")};return{getRootProps:(y={})=>{const T=jt(e);delete T.onTransitionEnter,delete T.onTransitionExited;const B={...T,...y};return{role:"presentation",...B,onKeyDown:L(B),ref:C}},getBackdropProps:(y={})=>{const T=y;return{"aria-hidden":!0,...T,onClick:z(T),open:b}},getTransitionProps:()=>{const y=()=>{S(!1),s&&s()},T=()=>{S(!0),i&&i(),r&&F()};return{onEnter:Qt(y,c?.props.onEnter??dn),onExited:Qt(T,c?.props.onExited??dn)}},rootRef:C,portalRef:N,isTopModal:p,exited:D,hasTransition:m}}function qo(e){return ue("MuiModal",e)}de("MuiModal",["root","hidden","backdrop"]);const Vo=e=>{const{open:t,exited:n,classes:o}=e;return le({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},qo,o)},Xo=G("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(he(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Go=G(Nn,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Fn=a.forwardRef(function(t,n){const o=pe({name:"MuiModal",props:t}),{BackdropComponent:r=Go,BackdropProps:s,classes:i,className:c,closeAfterTransition:l=!1,children:b,container:v,component:k,components:w={},componentsProps:P={},disableAutoFocus:C=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:S=!1,disablePortal:m=!1,disableRestoreFocus:E=!1,disableScrollLock:u=!1,hideBackdrop:f=!1,keepMounted:h=!1,onClose:I,onTransitionEnter:p,onTransitionExited:N,open:F,slotProps:L={},slots:z={},theme:_,...A}=o,x={...o,closeAfterTransition:l,disableAutoFocus:C,disableEnforceFocus:D,disableEscapeKeyDown:S,disablePortal:m,disableRestoreFocus:E,disableScrollLock:u,hideBackdrop:f,keepMounted:h},{getRootProps:y,getBackdropProps:T,getTransitionProps:B,portalRef:W,isTopModal:O,exited:X,hasTransition:J}=Ko({...x,rootRef:n}),Z={...x,exited:X},Q=Vo(Z),j={};if(b.props.tabIndex===void 0&&(j.tabIndex="-1"),J){const{onEnter:V,onExited:q}=B();j.onEnter=V,j.onExited=q}const M={slots:{root:w.Root,backdrop:w.Backdrop,...z},slotProps:{...P,...L}},[$,g]=re("root",{ref:n,elementType:Xo,externalForwardedProps:{...M,...A,component:k},getSlotProps:y,ownerState:Z,className:ie(c,Q?.root,!Z.open&&Z.exited&&Q?.hidden)}),[R,H]=re("backdrop",{ref:s?.ref,elementType:r,externalForwardedProps:M,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:V=>T({...V,onClick:q=>{V?.onClick&&V.onClick(q)}}),className:ie(s?.className,Q?.backdrop),ownerState:Z});return!h&&!F&&(!J||X)?null:d.jsx(mo,{ref:W,container:v,disablePortal:m,children:d.jsxs($,{...g,children:[!f&&r?d.jsx(R,{...H}):null,d.jsx(Wo,{disableEnforceFocus:D,disableAutoFocus:C,disableRestoreFocus:E,isEnabled:O,open:F,children:a.cloneElement(b,j)})]})})});function Jo(e){return ue("MuiDialog",e)}const Tt=de("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),An=a.createContext({}),Yo=G(Nn,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),Qo=e=>{const{classes:t,scroll:n,maxWidth:o,fullWidth:r,fullScreen:s}=e,i={root:["root"],backdrop:["backdrop"],container:["container",`scroll${se(n)}`],paper:["paper",`paperScroll${se(n)}`,`paperWidth${se(String(o))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return le(i,Jo,t)},Zo=G(Fn,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),er=G("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${se(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),tr=G(bt,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${se(n.scroll)}`],t[`paperWidth${se(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(he(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Tt.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${Tt.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Tt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),$t=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiDialog"}),r=gt(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":c,"aria-modal":l=!0,BackdropComponent:b,BackdropProps:v,children:k,className:w,disableEscapeKeyDown:P=!1,fullScreen:C=!1,fullWidth:D=!1,maxWidth:S="sm",onClick:m,onClose:E,open:u,PaperComponent:f=bt,PaperProps:h={},scroll:I="paper",slots:p={},slotProps:N={},TransitionComponent:F=At,transitionDuration:L=s,TransitionProps:z,..._}=o,A={...o,disableEscapeKeyDown:P,fullScreen:C,fullWidth:D,maxWidth:S,scroll:I},x=Qo(A),y=a.useRef(),T=te=>{y.current=te.target===te.currentTarget},B=te=>{m&&m(te),y.current&&(y.current=null,E&&E(te,"backdropClick"))},W=Bt(c),O=a.useMemo(()=>({titleId:W}),[W]),X={transition:F,...p},J={transition:z,paper:h,backdrop:v,...N},Z={slots:X,slotProps:J},[Q,j]=re("root",{elementType:Zo,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:A,className:ie(x.root,w),ref:n}),[M,$]=re("backdrop",{elementType:Yo,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:A,className:x.backdrop}),[g,R]=re("paper",{elementType:tr,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:A,className:ie(x.paper,h.className)}),[H,V]=re("container",{elementType:er,externalForwardedProps:Z,ownerState:A,className:x.container}),[q,ee]=re("transition",{elementType:At,externalForwardedProps:Z,ownerState:A,additionalProps:{appear:!0,in:u,timeout:L,role:"presentation"}});return d.jsx(Q,{closeAfterTransition:!0,slots:{backdrop:M},slotProps:{backdrop:{transitionDuration:L,as:b,...$}},disableEscapeKeyDown:P,onClose:E,open:u,onClick:B,...j,..._,children:d.jsx(q,{...ee,children:d.jsx(H,{onMouseDown:T,...V,children:d.jsx(g,{as:f,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":W,"aria-modal":l,...R,children:d.jsx(An.Provider,{value:O,children:k})})})})})});function nr(e){return ue("MuiDialogActions",e)}de("MuiDialogActions",["root","spacing"]);const or=e=>{const{classes:t,disableSpacing:n}=e;return le({root:["root",!n&&"spacing"]},nr,t)},rr=G("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Dt=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...i}=o,c={...o,disableSpacing:s},l=or(c);return d.jsx(rr,{className:ie(l.root,r),ownerState:c,ref:n,...i})});function sr(e){return ue("MuiDialogContent",e)}de("MuiDialogContent",["root","dividers"]);function ir(e){return ue("MuiDialogTitle",e)}const ar=de("MuiDialogTitle",["root"]),lr=e=>{const{classes:t,dividers:n}=e;return le({root:["root",n&&"dividers"]},sr,t)},cr=G("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(he(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${ar.root} + &`]:{paddingTop:0}}}]}))),Ot=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...i}=o,c={...o,dividers:s},l=lr(c);return d.jsx(cr,{className:ie(l.root,r),ownerState:c,ref:n,...i})}),dr=e=>{const{classes:t}=e;return le({root:["root"]},ir,t)},ur=G(oo,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Lt=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiDialogTitle"}),{className:r,id:s,...i}=o,c=o,l=dr(c),{titleId:b=s}=a.useContext(An);return d.jsx(ur,{component:"h2",className:ie(l.root,r),ownerState:c,ref:n,variant:"h6",id:s??b,...i})}),pr=e=>{const{classes:t,disableUnderline:n,startAdornment:o,endAdornment:r,size:s,hiddenLabel:i,multiline:c}=e,l={root:["root",!n&&"underline",o&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${se(s)}`,i&&"hiddenLabel",c&&"multiline"],input:["input"]},b=le(l,So,t);return{...t,...b}},fr=G(wt,{shouldForwardProp:e=>Ne(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yt(e,t),!n.disableUnderline&&t.underline]}})(he(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${De.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${De.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${De.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${De.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${De.disabled}, .${De.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${De.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(xt()).map(([i])=>({props:{disableUnderline:!1,color:i},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[i]?.main}`}}})),{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:12}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:12}},{props:({ownerState:i})=>i.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:i,size:c})=>i.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:i})=>i.multiline&&i.hiddenLabel&&i.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),mr=G(Ct,{name:"MuiFilledInput",slot:"Input",overridesResolver:vt})(he(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Ut=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:i,fullWidth:c=!1,hiddenLabel:l,inputComponent:b="input",multiline:v=!1,slotProps:k,slots:w={},type:P="text",...C}=o,D={...o,disableUnderline:r,fullWidth:c,inputComponent:b,multiline:v,type:P},S=pr(o),m={root:{ownerState:D},input:{ownerState:D}},E=k??i?zt(m,k??i):m,u=w.root??s.Root??fr,f=w.input??s.Input??mr;return d.jsx(Ht,{slots:{root:u,input:f},slotProps:E,fullWidth:c,inputComponent:b,multiline:v,ref:n,type:P,...C,classes:S})});Ut.muiName="Input";function hr(e){return ue("MuiFormControl",e)}de("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const gr=e=>{const{classes:t,margin:n,fullWidth:o}=e,r={root:["root",n!=="none"&&`margin${se(n)}`,o&&"fullWidth"]};return le(r,hr,t)},br=G("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${se(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xr=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiFormControl"}),{children:r,className:s,color:i="primary",component:c="div",disabled:l=!1,error:b=!1,focused:v,fullWidth:k=!1,hiddenLabel:w=!1,margin:P="none",required:C=!1,size:D="medium",variant:S="outlined",...m}=o,E={...o,color:i,component:c,disabled:l,error:b,fullWidth:k,hiddenLabel:w,margin:P,required:C,size:D,variant:S},u=gr(E),[f,h]=a.useState(()=>{let y=!1;return r&&a.Children.forEach(r,T=>{if(!Et(T,["Input","Select"]))return;const B=Et(T,["Select"])?T.props.input:T;B&&xo(B.props)&&(y=!0)}),y}),[I,p]=a.useState(()=>{let y=!1;return r&&a.Children.forEach(r,T=>{Et(T,["Input","Select"])&&(ft(T.props,!0)||ft(T.props.inputProps,!0))&&(y=!0)}),y}),[N,F]=a.useState(!1);l&&N&&F(!1);const L=v!==void 0&&!l?v:N;let z;a.useRef(!1);const _=a.useCallback(()=>{p(!0)},[]),A=a.useCallback(()=>{p(!1)},[]),x=a.useMemo(()=>({adornedStart:f,setAdornedStart:h,color:i,disabled:l,error:b,filled:I,focused:L,fullWidth:k,hiddenLabel:w,size:D,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:A,onFilled:_,registerEffect:z,required:C,variant:S}),[f,i,l,b,I,L,k,w,z,A,_,C,D,S]);return d.jsx(Wt.Provider,{value:x,children:d.jsx(br,{as:c,ownerState:E,className:ie(u.root,s),ref:n,...m,children:r})})});function yr(e){return ue("MuiFormHelperText",e)}const un=de("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var pn;const vr=e=>{const{classes:t,contained:n,size:o,disabled:r,error:s,filled:i,focused:c,required:l}=e,b={root:["root",r&&"disabled",s&&"error",o&&`size${se(o)}`,n&&"contained",c&&"focused",i&&"filled",l&&"required"]};return le(b,yr,t)},wr=G("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${se(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(he(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${un.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${un.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),Cr=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiFormHelperText"}),{children:r,className:s,component:i="p",disabled:c,error:l,filled:b,focused:v,margin:k,required:w,variant:P,...C}=o,D=Qe(),S=Ye({props:o,muiFormControl:D,states:["variant","size","disabled","error","filled","focused","required"]}),m={...o,component:i,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete m.ownerState;const E=vr(m);return d.jsx(wr,{as:i,className:ie(E.root,s),ref:n,...C,ownerState:m,children:r===" "?pn||(pn=d.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):r})});function Sr(e){return ue("MuiFormLabel",e)}const st=de("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kr=e=>{const{classes:t,color:n,focused:o,disabled:r,error:s,filled:i,required:c}=e,l={root:["root",`color${se(n)}`,r&&"disabled",s&&"error",i&&"filled",o&&"focused",c&&"required"],asterisk:["asterisk",s&&"error"]};return le(l,Sr,t)},Pr=G("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(he(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(xt()).map(([t])=>({props:{color:t},style:{[`&.${st.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${st.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${st.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Er=G("span",{name:"MuiFormLabel",slot:"Asterisk"})(he(({theme:e})=>({[`&.${st.error}`]:{color:(e.vars||e).palette.error.main}}))),Rr=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiFormLabel"}),{children:r,className:s,color:i,component:c="label",disabled:l,error:b,filled:v,focused:k,required:w,...P}=o,C=Qe(),D=Ye({props:o,muiFormControl:C,states:["color","required","focused","disabled","error","filled"]}),S={...o,color:D.color||"primary",component:c,disabled:D.disabled,error:D.error,filled:D.filled,focused:D.focused,required:D.required},m=kr(S);return d.jsxs(Pr,{as:c,ownerState:S,className:ie(m.root,s),ref:n,...P,children:[r,D.required&&d.jsxs(Er,{ownerState:S,"aria-hidden":!0,className:m.asterisk,children:[" ","*"]})]})});function _t(e){return`scale(${e}, ${e**2})`}const Tr={entering:{opacity:1,transform:_t(1)},entered:{opacity:1,transform:"none"}},Mt=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mt=a.forwardRef(function(t,n){const{addEndListener:o,appear:r=!0,children:s,easing:i,in:c,onEnter:l,onEntered:b,onEntering:v,onExit:k,onExited:w,onExiting:P,style:C,timeout:D="auto",TransitionComponent:S=Te,...m}=t,E=En(),u=a.useRef(),f=gt(),h=a.useRef(null),I=Pe(h,Je(s),n),p=y=>T=>{if(y){const B=h.current;T===void 0?y(B):y(B,T)}},N=p(v),F=p((y,T)=>{In(y);const{duration:B,delay:W,easing:O}=pt({style:C,timeout:D,easing:i},{mode:"enter"});let X;D==="auto"?(X=f.transitions.getAutoHeightDuration(y.clientHeight),u.current=X):X=B,y.style.transition=[f.transitions.create("opacity",{duration:X,delay:W}),f.transitions.create("transform",{duration:Mt?X:X*.666,delay:W,easing:O})].join(","),l&&l(y,T)}),L=p(b),z=p(P),_=p(y=>{const{duration:T,delay:B,easing:W}=pt({style:C,timeout:D,easing:i},{mode:"exit"});let O;D==="auto"?(O=f.transitions.getAutoHeightDuration(y.clientHeight),u.current=O):O=T,y.style.transition=[f.transitions.create("opacity",{duration:O,delay:B}),f.transitions.create("transform",{duration:Mt?O:O*.666,delay:Mt?B:B||O*.333,easing:W})].join(","),y.style.opacity=0,y.style.transform=_t(.75),k&&k(y)}),A=p(w),x=y=>{D==="auto"&&E.start(u.current||0,y),o&&o(h.current,y)};return d.jsx(S,{appear:r,in:c,nodeRef:h,onEnter:F,onEntered:L,onEntering:N,onExit:_,onExited:A,onExiting:z,addEndListener:x,timeout:D==="auto"?null:D,...m,children:(y,{ownerState:T,...B})=>a.cloneElement(s,{style:{opacity:0,transform:_t(.75),visibility:y==="exited"&&!c?"hidden":void 0,...Tr[y],...C,...s.props.style},ref:I,...B})})});mt&&(mt.muiSupportAuto=!0);const Mr=e=>{const{classes:t,disableUnderline:n}=e,r=le({root:["root",!n&&"underline"],input:["input"]},wo,t);return{...t,...r}},Ir=G(wt,{shouldForwardProp:e=>Ne(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yt(e,t),!n.disableUnderline&&t.underline]}})(he(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:o})=>o.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ze.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ze.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ze.disabled}, .${Ze.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ze.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(xt()).map(([o])=>({props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[o].main}`}}}))]}})),Nr=G(Ct,{name:"MuiInput",slot:"Input",overridesResolver:vt})({}),Kt=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:i,fullWidth:c=!1,inputComponent:l="input",multiline:b=!1,slotProps:v,slots:k={},type:w="text",...P}=o,C=Mr(o),S={root:{ownerState:{disableUnderline:r}}},m=v??i?zt(v??i,S):S,E=k.root??s.Root??Ir,u=k.input??s.Input??Nr;return d.jsx(Ht,{slots:{root:E,input:u},slotProps:m,fullWidth:c,inputComponent:l,multiline:b,ref:n,type:w,...P,classes:C})});Kt.muiName="Input";function jr(e){return ue("MuiInputLabel",e)}de("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Fr=e=>{const{classes:t,formControl:n,size:o,shrink:r,disableAnimation:s,variant:i,required:c}=e,l={root:["root",n&&"formControl",!s&&"animated",r&&"shrink",o&&o!=="medium"&&`size${se(o)}`,i],asterisk:[c&&"asterisk"]},b=le(l,jr,t);return{...t,...b}},Ar=G(Rr,{shouldForwardProp:e=>Ne(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${st.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(he(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:o})=>t==="filled"&&n.shrink&&o==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),$r=a.forwardRef(function(t,n){const o=pe({name:"MuiInputLabel",props:t}),{disableAnimation:r=!1,margin:s,shrink:i,variant:c,className:l,...b}=o,v=Qe();let k=i;typeof k>"u"&&v&&(k=v.filled||v.focused||v.adornedStart);const w=Ye({props:o,muiFormControl:v,states:["size","variant","required","focused"]}),P={...o,disableAnimation:r,formControl:v,shrink:k,size:w.size,variant:w.variant,required:w.required,focused:w.focused},C=Fr(P);return d.jsx(Ar,{"data-shrink":k,ref:n,className:ie(C.root,l),...b,ownerState:P,classes:C})}),Dr=a.createContext({});function Or(e){return ue("MuiList",e)}de("MuiList",["root","padding","dense","subheader"]);const Lr=e=>{const{classes:t,disablePadding:n,dense:o,subheader:r}=e;return le({root:["root",!n&&"padding",o&&"dense",r&&"subheader"]},Or,t)},_r=G("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Br=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiList"}),{children:r,className:s,component:i="ul",dense:c=!1,disablePadding:l=!1,subheader:b,...v}=o,k=a.useMemo(()=>({dense:c}),[c]),w={...o,component:i,dense:c,disablePadding:l},P=Lr(w);return d.jsx(Dr.Provider,{value:k,children:d.jsxs(_r,{as:i,className:ie(P.root,s),ref:n,ownerState:w,...v,children:[b,r]})})});function It(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function fn(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function $n(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function et(e,t,n,o,r,s){let i=!1,c=r(e,t,t?n:!1);for(;c;){if(c===e.firstChild){if(i)return!1;i=!0}const l=o?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!$n(c,s)||l)c=r(e,c,n);else return c.focus(),!0}return!1}const zr=a.forwardRef(function(t,n){const{actions:o,autoFocus:r=!1,autoFocusItem:s=!1,children:i,className:c,disabledItemsFocusable:l=!1,disableListWrap:b=!1,onKeyDown:v,variant:k="selectedMenu",...w}=t,P=a.useRef(null),C=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ve(()=>{r&&P.current.focus()},[r]),a.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(u,{direction:f})=>{const h=!P.current.style.width;if(u.clientHeight<P.current.clientHeight&&h){const I=`${jn(Ie(u))}px`;P.current.style[f==="rtl"?"paddingLeft":"paddingRight"]=I,P.current.style.width=`calc(100% + ${I})`}return P.current}}),[]);const D=u=>{const f=P.current,h=u.key;if(u.ctrlKey||u.metaKey||u.altKey){v&&v(u);return}const p=ot(we(f));if(h==="ArrowDown")u.preventDefault(),et(f,p,b,l,It);else if(h==="ArrowUp")u.preventDefault(),et(f,p,b,l,fn);else if(h==="Home")u.preventDefault(),et(f,null,b,l,It);else if(h==="End")u.preventDefault(),et(f,null,b,l,fn);else if(h.length===1){const N=C.current,F=h.toLowerCase(),L=performance.now();N.keys.length>0&&(L-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&F!==N.keys[0]&&(N.repeating=!1)),N.lastTime=L,N.keys.push(F);const z=p&&!N.repeating&&$n(p,N);N.previousKeyMatched&&(z||et(f,p,!1,l,It,N))?u.preventDefault():N.previousKeyMatched=!1}v&&v(u)},S=Pe(P,n);let m=-1;a.Children.forEach(i,(u,f)=>{if(!a.isValidElement(u)){m===f&&(m+=1,m>=i.length&&(m=-1));return}u.props.disabled||(k==="selectedMenu"&&u.props.selected||m===-1)&&(m=f),m===f&&(u.props.disabled||u.props.muiSkipListHighlight||u.type.muiSkipListHighlight)&&(m+=1,m>=i.length&&(m=-1))});const E=a.Children.map(i,(u,f)=>{if(f===m){const h={};return s&&(h.autoFocus=!0),u.props.tabIndex===void 0&&k==="selectedMenu"&&(h.tabIndex=0),a.cloneElement(u,h)}return u});return d.jsx(Br,{role:"menu",ref:S,className:c,onKeyDown:D,tabIndex:r?0:-1,...w,children:E})});function Wr(e){return ue("MuiPopover",e)}de("MuiPopover",["root","paper"]);function mn(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function hn(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function gn(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ut(e){return typeof e=="function"?e():e}const Hr=e=>{const{classes:t}=e;return le({root:["root"],paper:["paper"]},Wr,t)},Ur=G(Fn,{name:"MuiPopover",slot:"Root"})({}),Dn=G(bt,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Kr=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:l="anchorEl",children:b,className:v,container:k,elevation:w=8,marginThreshold:P=16,open:C,PaperProps:D={},slots:S={},slotProps:m={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:u,transitionDuration:f="auto",TransitionProps:h={},disableScrollLock:I=!1,...p}=o,N=a.useRef(),F={...o,anchorOrigin:i,anchorReference:l,elevation:w,marginThreshold:P,transformOrigin:E,TransitionComponent:u,transitionDuration:f,TransitionProps:h},L=Hr(F),z=a.useCallback(()=>{if(l==="anchorPosition")return c;const V=ut(s),ee=(V&&V.nodeType===1?V:we(N.current).body).getBoundingClientRect();return{top:ee.top+mn(ee,i.vertical),left:ee.left+hn(ee,i.horizontal)}},[s,i.horizontal,i.vertical,c,l]),_=a.useCallback(V=>({vertical:mn(V,E.vertical),horizontal:hn(V,E.horizontal)}),[E.horizontal,E.vertical]),A=a.useCallback(V=>{const q={width:V.offsetWidth,height:V.offsetHeight},ee=_(q);if(l==="none")return{top:null,left:null,transformOrigin:gn(ee)};const te=z();let U=te.top-ee.vertical,Y=te.left-ee.horizontal;const ne=U+q.height,xe=Y+q.width,fe=Ie(ut(s)),ye=fe.innerHeight-P,ve=fe.innerWidth-P;if(P!==null&&U<P){const ce=U-P;U-=ce,ee.vertical+=ce}else if(P!==null&&ne>ye){const ce=ne-ye;U-=ce,ee.vertical+=ce}if(P!==null&&Y<P){const ce=Y-P;Y-=ce,ee.horizontal+=ce}else if(xe>ve){const ce=xe-ve;Y-=ce,ee.horizontal+=ce}return{top:`${Math.round(U)}px`,left:`${Math.round(Y)}px`,transformOrigin:gn(ee)}},[s,l,z,_,P]),[x,y]=a.useState(C),T=a.useCallback(()=>{const V=N.current;if(!V)return;const q=A(V);q.top!==null&&V.style.setProperty("top",q.top),q.left!==null&&(V.style.left=q.left),V.style.transformOrigin=q.transformOrigin,y(!0)},[A]);a.useEffect(()=>(I&&window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)),[s,I,T]);const B=()=>{T()},W=()=>{y(!1)};a.useEffect(()=>{C&&T()}),a.useImperativeHandle(r,()=>C?{updatePosition:()=>{T()}}:null,[C,T]),a.useEffect(()=>{if(!C)return;const V=Tn(()=>{T()}),q=Ie(ut(s));return q.addEventListener("resize",V),()=>{V.clear(),q.removeEventListener("resize",V)}},[s,C,T]);let O=f;const X={slots:{transition:u,...S},slotProps:{transition:h,paper:D,...m}},[J,Z]=re("transition",{elementType:mt,externalForwardedProps:X,ownerState:F,getSlotProps:V=>({...V,onEntering:(q,ee)=>{V.onEntering?.(q,ee),B()},onExited:q=>{V.onExited?.(q),W()}}),additionalProps:{appear:!0,in:C}});f==="auto"&&!J.muiSupportAuto&&(O=void 0);const Q=k||(s?we(ut(s)).body:void 0),[j,{slots:M,slotProps:$,...g}]=re("root",{ref:n,elementType:Ur,externalForwardedProps:{...X,...p},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:co(typeof m.backdrop=="function"?m.backdrop(F):m.backdrop,{invisible:!0})},container:Q,open:C},ownerState:F,className:ie(L.root,v)}),[R,H]=re("paper",{ref:N,className:L.paper,elementType:Dn,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:w,style:x?void 0:{opacity:0}},ownerState:F});return d.jsx(j,{...g,...!Nt(j)&&{slots:M,slotProps:$,disableScrollLock:I},children:d.jsx(J,{...Z,timeout:O,children:d.jsx(R,{...H,children:b})})})});function qr(e){return ue("MuiMenu",e)}de("MuiMenu",["root","paper","list"]);const Vr={vertical:"top",horizontal:"right"},Xr={vertical:"top",horizontal:"left"},Gr=e=>{const{classes:t}=e;return le({root:["root"],paper:["paper"],list:["list"]},qr,t)},Jr=G(Kr,{shouldForwardProp:e=>Ne(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),Yr=G(Dn,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qr=G(zr,{name:"MuiMenu",slot:"List"})({outline:0}),Zr=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:i,disableAutoFocusItem:c=!1,MenuListProps:l={},onClose:b,open:v,PaperProps:k={},PopoverClasses:w,transitionDuration:P="auto",TransitionProps:{onEntering:C,...D}={},variant:S="selectedMenu",slots:m={},slotProps:E={},...u}=o,f=qn(),h={...o,autoFocus:r,disableAutoFocusItem:c,MenuListProps:l,onEntering:C,PaperProps:k,transitionDuration:P,TransitionProps:D,variant:S},I=Gr(h),p=r&&!c&&v,N=a.useRef(null),F=(O,X)=>{N.current&&N.current.adjustStyleForScrollbar(O,{direction:f?"rtl":"ltr"}),C&&C(O,X)},L=O=>{O.key==="Tab"&&(O.preventDefault(),b&&b(O,"tabKeyDown"))};let z=-1;a.Children.map(s,(O,X)=>{a.isValidElement(O)&&(O.props.disabled||(S==="selectedMenu"&&O.props.selected||z===-1)&&(z=X))});const _={slots:m,slotProps:{list:l,transition:D,paper:k,...E}},A=po({elementType:m.root,externalSlotProps:E.root,ownerState:h,className:[I.root,i]}),[x,y]=re("paper",{className:I.paper,elementType:Yr,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:h}),[T,B]=re("list",{className:ie(I.list,l.className),elementType:Qr,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:O=>({...O,onKeyDown:X=>{L(X),O.onKeyDown?.(X)}}),ownerState:h}),W=typeof _.slotProps.transition=="function"?_.slotProps.transition(h):_.slotProps.transition;return d.jsx(Jr,{onClose:b,anchorOrigin:{vertical:"bottom",horizontal:f?"right":"left"},transformOrigin:f?Vr:Xr,slots:{root:m.root,paper:x,backdrop:m.backdrop,...m.transition&&{transition:m.transition}},slotProps:{root:A,paper:y,backdrop:typeof E.backdrop=="function"?E.backdrop(h):E.backdrop,transition:{...W,onEntering:(...O)=>{F(...O),W?.onEntering?.(...O)}}},open:v,ref:n,transitionDuration:P,ownerState:h,...u,classes:w,children:d.jsx(T,{actions:N,autoFocus:r&&(z===-1||c),autoFocusItem:p,variant:S,...B,children:s})})});function es(e){return ue("MuiNativeSelect",e)}const qt=de("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ts=e=>{const{classes:t,variant:n,disabled:o,multiple:r,open:s,error:i}=e,c={select:["select",n,o&&"disabled",r&&"multiple",i&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",o&&"disabled"]};return le(c,es,t)},On=G("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${qt.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),ns=G(On,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ne,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${qt.multiple}`]:t.multiple}]}})({}),Ln=G("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${qt.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),os=G(Ln,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${se(n.variant)}`],n.open&&t.iconOpen]}})({}),rs=a.forwardRef(function(t,n){const{className:o,disabled:r,error:s,IconComponent:i,inputRef:c,variant:l="standard",...b}=t,v={...t,disabled:r,variant:l,error:s},k=ts(v);return d.jsxs(a.Fragment,{children:[d.jsx(ns,{ownerState:v,className:ie(k.select,o),disabled:r,ref:c||n,...b}),t.multiple?null:d.jsx(os,{as:i,ownerState:v,className:k.icon})]})});var bn;const ss=G("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ne})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),is=G("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ne})(he(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function as(e){const{children:t,classes:n,className:o,label:r,notched:s,...i}=e,c=r!=null&&r!=="",l={...e,notched:s,withLabel:c};return d.jsx(ss,{"aria-hidden":!0,className:o,ownerState:l,...i,children:d.jsx(is,{ownerState:l,children:c?d.jsx("span",{children:r}):bn||(bn=d.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const ls=e=>{const{classes:t}=e,o=le({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Co,t);return{...t,...o}},cs=G(wt,{shouldForwardProp:e=>Ne(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:yt})(he(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ee.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ee.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ee.focused} .${Ee.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(xt()).map(([n])=>({props:{color:n},style:{[`&.${Ee.focused} .${Ee.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ee.error} .${Ee.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ee.disabled} .${Ee.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:o})=>n.multiline&&o==="small",style:{padding:"8.5px 14px"}}]}})),ds=G(as,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(he(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),us=G(Ct,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vt})(he(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),Vt=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:i="input",label:c,multiline:l=!1,notched:b,slots:v={},slotProps:k={},type:w="text",...P}=o,C=ls(o),D=Qe(),S=Ye({props:o,muiFormControl:D,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),m={...o,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:D,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:l,size:S.size,type:w},E=v.root??r.Root??cs,u=v.input??r.Input??us,[f,h]=re("notchedOutline",{elementType:ds,className:C.notchedOutline,shouldForwardComponentProp:!0,ownerState:m,externalForwardedProps:{slots:v,slotProps:k},additionalProps:{label:c!=null&&c!==""&&S.required?d.jsxs(a.Fragment,{children:[c," ","*"]}):c}});return d.jsx(Ht,{slots:{root:E,input:u},slotProps:k,renderSuffix:I=>d.jsx(f,{...h,notched:typeof b<"u"?b:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:s,inputComponent:i,multiline:l,ref:n,type:w,...P,classes:{...C,notchedOutline:null}})});Vt.muiName="Input";function _n(e){return ue("MuiSelect",e)}const tt=de("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var xn;const ps=G(On,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${tt.select}`]:t.select},{[`&.${tt.select}`]:t[n.variant]},{[`&.${tt.error}`]:t.error},{[`&.${tt.multiple}`]:t.multiple}]}})({[`&.${tt.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fs=G(Ln,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${se(n.variant)}`],n.open&&t.iconOpen]}})({}),ms=G("input",{shouldForwardProp:e=>ro(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function yn(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function hs(e){return e==null||typeof e=="string"&&!e.trim()}const gs=e=>{const{classes:t,variant:n,disabled:o,multiple:r,open:s,error:i}=e,c={select:["select",n,o&&"disabled",r&&"multiple",i&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return le(c,_n,t)},bs=a.forwardRef(function(t,n){const{"aria-describedby":o,"aria-label":r,autoFocus:s,autoWidth:i,children:c,className:l,defaultOpen:b,defaultValue:v,disabled:k,displayEmpty:w,error:P=!1,IconComponent:C,inputRef:D,labelId:S,MenuProps:m={},multiple:E,name:u,onBlur:f,onChange:h,onClose:I,onFocus:p,onKeyDown:N,onMouseDown:F,onOpen:L,open:z,readOnly:_,renderValue:A,required:x,SelectDisplayProps:y={},tabIndex:T,type:B,value:W,variant:O="standard",...X}=t,[J,Z]=en({controlled:W,default:v,name:"Select"}),[Q,j]=en({controlled:z,default:b,name:"Select"}),M=a.useRef(null),$=a.useRef(null),[g,R]=a.useState(null),{current:H}=a.useRef(z!=null),[V,q]=a.useState(),ee=Pe(n,D),te=a.useCallback(K=>{$.current=K,K&&R(K)},[]),U=g?.parentNode;a.useImperativeHandle(ee,()=>({focus:()=>{$.current.focus()},node:M.current,value:J}),[J]);const Y=g!==null&&Q;a.useEffect(()=>{if(!Y||!U||i||typeof ResizeObserver>"u")return;const K=new ResizeObserver(()=>{q(U.clientWidth)});return K.observe(U),()=>{K.disconnect()}},[Y,U,i]),a.useEffect(()=>{b&&Q&&g&&!H&&(q(i?null:U.clientWidth),$.current.focus())},[g,i]),a.useEffect(()=>{s&&$.current.focus()},[s]),a.useEffect(()=>{if(!S)return;const K=we($.current).getElementById(S);if(K){const oe=()=>{getSelection().isCollapsed&&$.current.focus()};return K.addEventListener("click",oe),()=>{K.removeEventListener("click",oe)}}},[S]);const ne=(K,oe)=>{K?L&&L(oe):I&&I(oe),H||(q(i?null:U.clientWidth),j(K))},xe=K=>{F?.(K),K.button===0&&(K.preventDefault(),$.current.focus(),ne(!0,K))},fe=K=>{ne(!1,K)},ye=a.Children.toArray(c),ve=K=>{const oe=ye.find(ge=>ge.props.value===K.target.value);oe!==void 0&&(Z(oe.props.value),h&&h(K,oe))},ce=K=>oe=>{let ge;if(oe.currentTarget.hasAttribute("tabindex")){if(E){ge=Array.isArray(J)?J.slice():[];const We=J.indexOf(K.props.value);We===-1?ge.push(K.props.value):ge.splice(We,1)}else ge=K.props.value;if(K.props.onClick&&K.props.onClick(oe),J!==ge&&(Z(ge),h)){const We=oe.nativeEvent||oe,Jt=new We.constructor(We.type,We);Object.defineProperty(Jt,"target",{writable:!0,value:{value:ge,name:u}}),h(Jt,K)}E||ne(!1,oe)}},Ce=K=>{_||([" ","ArrowUp","ArrowDown","Enter"].includes(K.key)&&(K.preventDefault(),ne(!0,K)),N?.(K))},Ae=K=>{!Y&&f&&(Object.defineProperty(K,"target",{writable:!0,value:{value:J,name:u}}),f(K))};delete X["aria-invalid"];let me,it;const je=[];let $e=!1;(ft({value:J})||w)&&(A?me=A(J):$e=!0);const at=ye.map(K=>{if(!a.isValidElement(K))return null;let oe;if(E){if(!Array.isArray(J))throw new Error(kn(2));oe=J.some(ge=>yn(ge,K.props.value)),oe&&$e&&je.push(K.props.children)}else oe=yn(J,K.props.value),oe&&$e&&(it=K.props.children);return a.cloneElement(K,{"aria-selected":oe?"true":"false",onClick:ce(K),onKeyUp:ge=>{ge.key===" "&&ge.preventDefault(),K.props.onKeyUp&&K.props.onKeyUp(ge)},role:"option",selected:oe,value:void 0,"data-value":K.props.value})});$e&&(E?je.length===0?me=null:me=je.reduce((K,oe,ge)=>(K.push(oe),ge<je.length-1&&K.push(", "),K),[]):me=it);let _e=V;!i&&H&&g&&(_e=U.clientWidth);let Be;typeof T<"u"?Be=T:Be=k?null:0;const ae=y.id||(u?`mui-component-select-${u}`:void 0),Me={...t,variant:O,value:J,open:Y,error:P},ze=gs(Me),St={...m.PaperProps,...typeof m.slotProps?.paper=="function"?m.slotProps.paper(Me):m.slotProps?.paper},Wn={...m.MenuListProps,...typeof m.slotProps?.list=="function"?m.slotProps.list(Me):m.slotProps?.list},Gt=Bt();return d.jsxs(a.Fragment,{children:[d.jsx(ps,{as:"div",ref:te,tabIndex:Be,role:"combobox","aria-controls":Y?Gt:void 0,"aria-disabled":k?"true":void 0,"aria-expanded":Y?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[S,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":x?"true":void 0,"aria-invalid":P?"true":void 0,onKeyDown:Ce,onMouseDown:k||_?null:xe,onBlur:Ae,onFocus:p,...y,ownerState:Me,className:ie(y.className,ze.select,l),id:ae,children:hs(me)?xn||(xn=d.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):me}),d.jsx(ms,{"aria-invalid":P,value:Array.isArray(J)?J.join(","):J,name:u,ref:M,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:k,className:ze.nativeInput,autoFocus:s,required:x,...X,ownerState:Me}),d.jsx(fs,{as:C,className:ze.icon,ownerState:Me}),d.jsx(Zr,{id:`menu-${u||""}`,anchorEl:U,open:Y,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...m,slotProps:{...m.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Gt,...Wn},paper:{...St,style:{minWidth:_e,...St!=null?St.style:null}}},children:at})]})}),xs=e=>{const{classes:t}=e,o=le({root:["root"]},_n,t);return{...t,...o}},Xt={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ne(e)&&e!=="variant"},ys=G(Kt,Xt)(""),vs=G(Vt,Xt)(""),ws=G(Ut,Xt)(""),Bn=a.forwardRef(function(t,n){const o=pe({name:"MuiSelect",props:t}),{autoWidth:r=!1,children:s,classes:i={},className:c,defaultOpen:l=!1,displayEmpty:b=!1,IconComponent:v=ko,id:k,input:w,inputProps:P,label:C,labelId:D,MenuProps:S,multiple:m=!1,native:E=!1,onClose:u,onOpen:f,open:h,renderValue:I,SelectDisplayProps:p,variant:N="outlined",...F}=o,L=E?rs:bs,z=Qe(),_=Ye({props:o,muiFormControl:z,states:["variant","error"]}),A=_.variant||N,x={...o,variant:A,classes:i},y=xs(x),{root:T,...B}=y,W=w||{standard:d.jsx(ys,{ownerState:x}),outlined:d.jsx(vs,{label:C,ownerState:x}),filled:d.jsx(ws,{ownerState:x})}[A],O=Pe(n,Je(W));return d.jsx(a.Fragment,{children:a.cloneElement(W,{inputComponent:L,inputProps:{children:s,error:_.error,IconComponent:v,variant:A,type:void 0,multiple:m,...E?{id:k}:{autoWidth:r,defaultOpen:l,displayEmpty:b,labelId:D,MenuProps:S,onClose:u,onOpen:f,open:h,renderValue:I,SelectDisplayProps:{id:k,...p}},...P,classes:P?zt(B,P.classes):B,...w?w.props.inputProps:{}},...(m&&E||b)&&A==="outlined"?{notched:!0}:{},ref:O,className:ie(W.props.className,c,y.root),...!w&&{variant:A},...F})})});Bn.muiName="Select";function Cs(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:r,resumeHideDuration:s}=e,i=En();a.useEffect(()=>{if(!r)return;function m(E){E.defaultPrevented||E.key==="Escape"&&o?.(E,"escapeKeyDown")}return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[r,o]);const c=Xe((m,E)=>{o?.(m,E)}),l=Xe(m=>{!o||m==null||i.start(m,()=>{c(null,"timeout")})});a.useEffect(()=>(r&&l(t),i.clear),[r,t,l,i]);const b=m=>{o?.(m,"clickaway")},v=i.clear,k=a.useCallback(()=>{t!=null&&l(s??t*.5)},[t,s,l]),w=m=>E=>{const u=m.onBlur;u?.(E),k()},P=m=>E=>{const u=m.onFocus;u?.(E),v()},C=m=>E=>{const u=m.onMouseEnter;u?.(E),v()},D=m=>E=>{const u=m.onMouseLeave;u?.(E),k()};return a.useEffect(()=>{if(!n&&r)return window.addEventListener("focus",k),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",k),window.removeEventListener("blur",v)}},[n,r,k,v]),{getRootProps:(m={})=>{const E={...jt(e),...jt(m)};return{role:"presentation",...m,...E,onBlur:w(E),onFocus:P(E),onMouseEnter:C(E),onMouseLeave:D(E)}},onClickAway:b}}function Ss(e){return ue("MuiSnackbarContent",e)}de("MuiSnackbarContent",["root","message","action"]);const ks=e=>{const{classes:t}=e;return le({root:["root"],action:["action"],message:["message"]},Ss,t)},Ps=G(bt,{name:"MuiSnackbarContent",slot:"Root"})(he(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(Yt(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:Yt(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Es=G("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Rs=G("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Ts=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiSnackbarContent"}),{action:r,className:s,message:i,role:c="alert",...l}=o,b=o,v=ks(b);return d.jsxs(Ps,{role:c,elevation:6,className:ie(v.root,s),ownerState:b,ref:n,...l,children:[d.jsx(Es,{className:v.message,ownerState:b,children:i}),r?d.jsx(Rs,{className:v.action,ownerState:b,children:r}):null]})});function Ms(e){return ue("MuiSnackbar",e)}de("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Is=e=>{const{classes:t,anchorOrigin:n}=e,o={root:["root",`anchorOrigin${se(n.vertical)}${se(n.horizontal)}`]};return le(o,Ms,t)},Ns=G("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${se(n.anchorOrigin.vertical)}${se(n.anchorOrigin.horizontal)}`]]}})(he(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),js=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiSnackbar"}),r=gt(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:c,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:b=null,children:v,className:k,ClickAwayListenerProps:w,ContentProps:P,disableWindowBlurListener:C=!1,message:D,onBlur:S,onClose:m,onFocus:E,onMouseEnter:u,onMouseLeave:f,open:h,resumeHideDuration:I,slots:p={},slotProps:N={},TransitionComponent:F,transitionDuration:L=s,TransitionProps:{onEnter:z,onExited:_,...A}={},...x}=o,y={...o,anchorOrigin:{vertical:c,horizontal:l},autoHideDuration:b,disableWindowBlurListener:C,TransitionComponent:F,transitionDuration:L},T=Is(y),{getRootProps:B,onClickAway:W}=Cs(y),[O,X]=a.useState(!0),J=te=>{X(!0),_&&_(te)},Z=(te,U)=>{X(!1),z&&z(te,U)},Q={slots:{transition:F,...p},slotProps:{content:P,clickAwayListener:w,transition:A,...N}},[j,M]=re("root",{ref:n,className:[T.root,k],elementType:Ns,getSlotProps:B,externalForwardedProps:{...Q,...x},ownerState:y}),[$,{ownerState:g,...R}]=re("clickAwayListener",{elementType:Io,externalForwardedProps:Q,getSlotProps:te=>({onClickAway:(...U)=>{const Y=U[0];te.onClickAway?.(...U),!Y?.defaultMuiPrevented&&W(...U)}}),ownerState:y}),[H,V]=re("content",{elementType:Ts,shouldForwardComponentProp:!0,externalForwardedProps:Q,additionalProps:{message:D,action:i},ownerState:y}),[q,ee]=re("transition",{elementType:mt,externalForwardedProps:Q,getSlotProps:te=>({onEnter:(...U)=>{te.onEnter?.(...U),Z(...U)},onExited:(...U)=>{te.onExited?.(...U),J(...U)}}),additionalProps:{appear:!0,in:h,timeout:L,direction:c==="top"?"down":"up"},ownerState:y});return!h&&O?null:d.jsx($,{...R,...p.clickAwayListener&&{ownerState:g},children:d.jsx(j,{...M,children:d.jsx(q,{...ee,children:v||d.jsx(H,{...V})})})})});function Fs(e){return ue("MuiTextField",e)}de("MuiTextField",["root"]);const As={standard:Kt,filled:Ut,outlined:Vt},$s=e=>{const{classes:t}=e;return le({root:["root"]},Fs,t)},Ds=G(xr,{name:"MuiTextField",slot:"Root"})({}),zn=a.forwardRef(function(t,n){const o=pe({props:t,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:i,className:c,color:l="primary",defaultValue:b,disabled:v=!1,error:k=!1,FormHelperTextProps:w,fullWidth:P=!1,helperText:C,id:D,InputLabelProps:S,inputProps:m,InputProps:E,inputRef:u,label:f,maxRows:h,minRows:I,multiline:p=!1,name:N,onBlur:F,onChange:L,onFocus:z,placeholder:_,required:A=!1,rows:x,select:y=!1,SelectProps:T,slots:B={},slotProps:W={},type:O,value:X,variant:J="outlined",...Z}=o,Q={...o,autoFocus:s,color:l,disabled:v,error:k,fullWidth:P,multiline:p,required:A,select:y,variant:J},j=$s(Q),M=Bt(D),$=C&&M?`${M}-helper-text`:void 0,g=f&&M?`${M}-label`:void 0,R=As[J],H={slots:B,slotProps:{input:E,inputLabel:S,htmlInput:m,formHelperText:w,select:T,...W}},V={},q=H.slotProps.inputLabel;J==="outlined"&&(q&&typeof q.shrink<"u"&&(V.notched=q.shrink),V.label=f),y&&((!T||!T.native)&&(V.id=void 0),V["aria-describedby"]=void 0);const[ee,te]=re("root",{elementType:Ds,shouldForwardComponentProp:!0,externalForwardedProps:{...H,...Z},ownerState:Q,className:ie(j.root,c),ref:n,additionalProps:{disabled:v,error:k,fullWidth:P,required:A,color:l,variant:J}}),[U,Y]=re("input",{elementType:R,externalForwardedProps:H,additionalProps:V,ownerState:Q}),[ne,xe]=re("inputLabel",{elementType:$r,externalForwardedProps:H,ownerState:Q}),[fe,ye]=re("htmlInput",{elementType:"input",externalForwardedProps:H,ownerState:Q}),[ve,ce]=re("formHelperText",{elementType:Cr,externalForwardedProps:H,ownerState:Q}),[Ce,Ae]=re("select",{elementType:Bn,externalForwardedProps:H,ownerState:Q}),me=d.jsx(U,{"aria-describedby":$,autoComplete:r,autoFocus:s,defaultValue:b,fullWidth:P,multiline:p,name:N,rows:x,maxRows:h,minRows:I,type:O,value:X,id:M,inputRef:u,onBlur:F,onChange:L,onFocus:z,placeholder:_,inputProps:ye,slots:{input:B.htmlInput?fe:void 0},...Y});return d.jsxs(ee,{...te,children:[f!=null&&f!==""&&d.jsx(ne,{htmlFor:M,id:g,...xe,children:f}),y?d.jsx(Ce,{"aria-describedby":$,id:M,labelId:g,value:X,input:me,...Ae,children:i}):me,C&&d.jsx(ve,{id:$,...ce,children:C})]})});function ht({className:e,inputProps:t,"aria-label":n,sx:o,...r}){return d.jsx(zn,{variant:"outlined",size:"small",className:e,sx:[{"& .MuiOutlinedInput-root":{minHeight:40,borderRadius:999,backgroundColor:"var(--surface)","& fieldset":{borderColor:"var(--border)"},"&:hover fieldset":{borderColor:"var(--accent)"},"&.Mui-focused fieldset":{borderColor:"var(--accent)",boxShadow:"0 0 0 3px rgba(0,99,155,0.18)"}},"& .MuiOutlinedInput-input::placeholder":{color:"var(--text-muted)",opacity:1}},...Array.isArray(o)?o:o?[o]:[]],inputProps:{...t,...n?{"aria-label":n}:{}},...r})}function Os({className:e,children:t,SelectProps:n,"aria-label":o,sx:r,...s}){const i={native:!0,...n||{},inputProps:{...n?.inputProps||{},...o?{"aria-label":o}:{}}};return d.jsx(zn,{className:e,variant:"outlined",size:"small",select:!0,SelectProps:i,sx:[{"& .MuiOutlinedInput-root":{minHeight:40,borderRadius:999,backgroundColor:"var(--surface)","& fieldset":{borderColor:"var(--border)"},"&:hover fieldset":{borderColor:"var(--accent)"},"&.Mui-focused fieldset":{borderColor:"var(--accent)",boxShadow:"0 0 0 3px rgba(0,99,155,0.18)"}}},...Array.isArray(r)?r:r?[r]:[]],...s,children:t})}function Ls({items:e,selectedPaths:t,onSelectionChange:n,knownDirectories:o,capabilitiesImportEnabled:r,importDisabledReason:s,getRowActionState:i,onSetRowActionState:c,onClearRowActionState:l,onBeginRename:b,onBeginMove:v,onApplyRename:k,onApplyMove:w,onDeleteSingle:P,onOpenDirectory:C,onBeginDirectoryRename:D,onApplyDirectoryRename:S,onDeleteDirectory:m}){const[E,u]=a.useState(""),[f,h]=a.useState(""),I=a.useMemo(()=>e.filter(A=>!A.is_dir).map(A=>be(A.relative_path||A.name||"")).filter(Boolean),[e]),p=a.useMemo(()=>e.filter(A=>A.is_dir).map(A=>be(A.relative_path||A.name||"")).filter(Boolean),[e]);a.useEffect(()=>{f&&(p.includes(f)||h(""))},[f,p]);const N=A=>{n(I.filter(x=>A.has(x)))},F=(A,x)=>{if(!A)return;const y=new Set(t);if(x.shift){const T=I.indexOf(A),B=I.indexOf(E||A);if(T>=0&&B>=0){const[W,O]=B<=T?[B,T]:[T,B];y.clear();for(let X=W;X<=O;X+=1)y.add(I[X])}else y.clear(),y.add(A);u(A),N(y);return}y.has(A)?y.delete(A):y.add(A),u(A),N(y)};if(e.length===0)return d.jsx(so,{title:"空目录"});const L="pointer-events-none flex items-center justify-end gap-3 text-xs text-muted opacity-0 transition-opacity duration-150 group-hover:pointer-events-auto group-hover:opacity-100 group-focus-within:pointer-events-auto group-focus-within:opacity-100",z="whitespace-nowrap bg-transparent p-0 text-xs text-muted hover:text-accent focus-visible:outline-none focus-visible:text-accent disabled:cursor-not-allowed disabled:text-muted/60",_="text-border";return d.jsx("div",{className:"overflow-hidden rounded-md border border-border bg-surface",children:d.jsx("div",{role:"list","aria-label":"数据库文件列表",children:e.map(A=>{const x=be(A.relative_path||A.name||""),y=i(x),T=be(y.value||""),B=`/pdf/${encodeURIComponent(x)}#page=1`,W=y.phase==="pending",O=A.is_dir,X=!O&&t.has(x),J=O&&f===x,Z=String(A.name||x||"-"),Q=!!(x&&x!==Z),j="w-[180px] md:w-[332px]",M=g=>{g.preventDefault(),g.stopPropagation()},$=g=>{g.preventDefault(),g.stopPropagation()};return d.jsxs("div",{role:O?"button":"listitem","aria-label":O?`目录 ${Z}${J?"（已选）":""}`:`${Z}${X?"（已选）":""}`,tabIndex:O?0:-1,className:`group grid grid-cols-[36px_28px_minmax(0,1fr)_180px] items-center gap-2 border-b border-border px-3 py-2 last:border-b-0 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent md:grid-cols-[36px_28px_minmax(0,1fr)_332px] ${X||J?"bg-accent-soft":"hover:bg-surface-soft"}`,onClick:g=>{O&&(g.preventDefault(),h(x))},onDoubleClick:g=>{if(!g.target.closest("button, input, select, a")&&!(!x||y.mode!=="normal")){if(O){g.preventDefault(),C(x);return}window.open(B,"_blank","noopener,noreferrer")}},onKeyDown:g=>{if(O){g.key==="Enter"?(g.preventDefault(),C(x)):g.key===" "&&(g.preventDefault(),h(x));return}},children:[d.jsx("div",{className:"flex w-9 items-center justify-center",children:O?d.jsx("span",{className:"h-4 w-4"}):d.jsx("input",{type:"checkbox",checked:X,"aria-label":`${Z}${X?"已选中":"未选中"}`,className:"h-4 w-4",style:{accentColor:"var(--color-accent)"},onClick:g=>{g.preventDefault(),M(g),y.mode==="normal"&&F(x,{shift:g.shiftKey})},onChange:()=>{}})}),d.jsx("div",{className:"flex w-7 items-center justify-center",children:d.jsx(Fe,{name:O?"folder":"description",size:20,className:O?"text-accent":"text-muted"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"truncate text-sm font-medium text-text",children:Z}),Q?d.jsx("div",{className:"truncate font-mono text-xs text-muted",children:x}):null]}),d.jsx("div",{className:j,children:O?y.mode==="renaming"?d.jsxs("div",{className:"grid w-full gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ht,{name:`rename-dir-${x}`,value:y.value,onChange:g=>c(x,{...y,value:g.target.value,error:"",phase:"idle"}),onFocus:g=>{g.target.select()},onKeyDown:g=>{g.key==="Enter"?($(g),S(x)):g.key==="Escape"&&($(g),l(x))},className:"h-8",placeholder:"新目录名",disabled:W,autoFocus:!0}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),S(x)},disabled:W,"aria-label":W?"正在改名":"确认改名",title:W?"正在改名":"确认改名",children:W?d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(kt,{size:12}),"处理中"]}):"确认"}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),l(x)},disabled:W,"aria-label":"取消改名",title:"取消改名",children:"取消"})]}),y.error?d.jsx("div",{className:"text-xs text-danger",children:y.error}):null]}):d.jsxs("div",{className:L,children:[d.jsx("button",{type:"button",className:z,disabled:!x,onClick:g=>{M(g),x&&C(x)},children:"进入"}),d.jsx("span",{className:_,children:"|"}),d.jsx("button",{type:"button",className:z,disabled:!x||!r,title:r?void 0:s,onClick:g=>{M(g),D(x)},children:"改名"}),d.jsx("span",{className:_,children:"|"}),d.jsx("button",{type:"button",className:z,disabled:!x||!r,title:r?void 0:s,onClick:g=>{M(g),m(x)},children:"删除"})]}):y.mode==="renaming"?d.jsxs("div",{className:"grid w-full gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ht,{name:`rename-${x}`,value:y.value,onChange:g=>c(x,{...y,value:g.target.value,error:"",phase:"idle"}),onFocus:g=>{g.target.select()},onKeyDown:g=>{g.key==="Enter"?($(g),k(x)):g.key==="Escape"&&($(g),l(x))},className:"h-8",placeholder:"新文件名，如 b.pdf",disabled:W,autoFocus:!0}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),k(x)},disabled:W,"aria-label":W?"正在改名":"确认改名",title:W?"正在改名":"确认改名",children:W?d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(kt,{size:12}),"处理中"]}):"确认"}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),l(x)},disabled:W,"aria-label":"取消改名",title:"取消改名",children:"取消"})]}),y.error?d.jsx("div",{className:"text-xs text-danger",children:y.error}):null]}):y.mode==="moving"?d.jsxs("div",{className:"grid w-full gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Os,{name:`move-${x}`,value:T,className:"h-8",onChange:g=>c(x,{...y,value:be(g.target.value),error:"",phase:"idle"}),onKeyDown:g=>{g.key==="Enter"?($(g),w(x)):g.key==="Escape"&&($(g),l(x))},disabled:W,autoFocus:!0,children:o.map(g=>d.jsx("option",{value:g,children:g||"/"},g||"root"))}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),w(x)},disabled:W,"aria-label":W?"正在移动":"确认移动",title:W?"正在移动":"确认移动",children:W?d.jsxs("span",{className:"inline-flex items-center gap-1",children:[d.jsx(kt,{size:12}),"处理中"]}):"确认"}),d.jsx("button",{type:"button",className:z,onClick:g=>{M(g),l(x)},disabled:W,"aria-label":"取消移动",title:"取消移动",children:"取消"})]}),y.error?d.jsx("div",{className:"text-xs text-danger",children:y.error}):null]}):d.jsxs("div",{className:L,children:[d.jsx("button",{type:"button",className:z,disabled:!x,onClick:g=>{M(g),x&&window.open(B,"_blank","noopener,noreferrer")},children:"预览"}),d.jsx("span",{className:_,children:"|"}),d.jsx("button",{type:"button",className:z,disabled:!x||!r,title:r?void 0:s,onClick:g=>{M(g),b(x)},children:"改名"}),d.jsx("span",{className:_,children:"|"}),d.jsx("button",{type:"button",className:z,disabled:!x||!r,title:r?void 0:s,onClick:g=>{M(g),v(x)},children:"移动"}),d.jsx("span",{className:_,children:"|"}),d.jsx("button",{type:"button",className:z,disabled:!x||!r,title:r?void 0:s,onClick:g=>{M(g),P(x)},children:"删除"})]})})]},x||A.name)})})})}function _s({currentPath:e,breadcrumbParts:t,directoryCount:n,status:o,selectedCount:r,fileCount:s,folderName:i,onFolderNameChange:c,capabilities:l,writeApiKeyConfigured:b,importDisabledReason:v,onNavigate:k,onUploadFiles:w,onDeleteSelected:P,onRefresh:C,onCreateFolder:D,onSetWriteApiKey:S,onClearWriteApiKey:m}){const E=a.useRef(null),[u,f]=a.useState(!1),[h,I]=a.useState(!1),[p,N]=a.useState(""),F=!l.import_enabled||e!=="",L=l.import_enabled&&r>0,z=l.write_auth_mode==="api_key",_=l.import_enabled?e?"仅支持在根目录创建子目录":"":v,A=!F&&!!i.trim(),x=z?l.write_auth_required?b?"写接口鉴权已启用，会话 API Key 已设置":"写接口鉴权已启用，请先设置会话 API Key":"写接口支持可选 API Key":"",y=B=>{B.preventDefault(),A&&(D(),f(!1))},T=B=>{B.preventDefault();const W=p.trim();W&&(S(W),I(!1),N(""))};return d.jsxs("div",{className:"grid gap-3",children:[d.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsxs(Vn,{className:"flex flex-wrap items-center gap-2 text-sm text-text",children:[d.jsxs("a",{href:"/db.html",onClick:B=>{B.preventDefault(),k("")},className:"inline-flex items-center gap-1 rounded-sm px-1 py-0.5 hover:bg-surface-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent",children:[d.jsx(Fe,{name:"folder",size:16}),"根目录"]}),t.map((B,W)=>{const O=t.slice(0,W+1).join("/");return d.jsxs(qe.Fragment,{children:[d.jsx(Fe,{name:"chevron_right",size:14,className:"text-muted"}),d.jsx("a",{href:Rn(O),onClick:X=>{X.preventDefault(),k(O)},className:"inline-flex items-center rounded-sm px-1 py-0.5 hover:bg-surface-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent",children:B})]},O)})]}),d.jsxs("div",{className:"mt-1 text-xs text-muted",children:["目录 ",n," · 文件 ",s,` · 已选 ${r}`]}),x?d.jsx("div",{className:"mt-1 text-xs text-muted",children:x}):null]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:justify-end",children:[d.jsx(Se,{variant:"primary",className:"h-10 gap-1.5 px-4",disabled:!l.import_enabled,title:l.import_enabled?"上传 PDF":v,startIcon:d.jsx(Fe,{name:"upload_file",size:16}),onClick:()=>E.current?.click(),children:"上传 PDF"}),d.jsx("input",{ref:E,type:"file",accept:".pdf,application/pdf",multiple:!0,className:"hidden",onChange:B=>{w(Array.from(B.target.files||[])),B.currentTarget.value=""}}),d.jsx(Se,{variant:"ghost",type:"button",className:"h-10 gap-1.5 px-4",disabled:F,title:_||"创建子目录",startIcon:d.jsx(Fe,{name:"create_new_folder",size:16}),onClick:()=>f(!0),children:"创建子目录"}),d.jsxs(Se,{variant:"danger",className:"h-10 gap-1.5 px-4",disabled:!L,title:l.import_enabled?void 0:v,startIcon:d.jsx(Fe,{name:"delete",size:16}),onClick:P,children:["删除所选",r>0?` (${r})`:""]}),d.jsx(Se,{variant:"ghost",className:"h-10 gap-1.5 px-4",startIcon:d.jsx(Fe,{name:"refresh",size:16}),onClick:C,children:"刷新"}),z?d.jsx(Se,{variant:"ghost",type:"button",className:"h-10 gap-1.5 px-4",title:b?"当前会话已设置 API Key":"设置当前会话 API Key",startIcon:d.jsx(Fe,{name:"vpn_key",size:16}),onClick:()=>{I(!0),N("")},children:b?"API Key 已设置":"设置 API Key"}):null]})]}),o?d.jsx("div",{className:"rounded-md border border-border bg-surface-soft px-3 py-2 text-xs text-muted",children:o}):null,d.jsx($t,{open:u,onClose:()=>f(!1),fullWidth:!0,maxWidth:"xs","aria-labelledby":"db-create-folder-title",children:d.jsxs("form",{onSubmit:y,children:[d.jsx(Lt,{id:"db-create-folder-title",children:"新建子目录"}),d.jsxs(Ot,{children:[d.jsx(ht,{id:"db-folder-name",name:"folder_name",value:i,onChange:B=>c(B.target.value),placeholder:"填写新建子目录名称",className:"mt-2 w-full",disabled:F,"aria-label":"新建子目录名称",autoFocus:!0}),_?d.jsx("p",{className:"mt-2 text-xs text-muted",children:_}):null]}),d.jsxs(Dt,{sx:{px:3,pb:2.5},children:[d.jsx(Se,{variant:"ghost",type:"button",onClick:()=>f(!1),children:"取消"}),d.jsx(Se,{variant:"ghost",type:"submit",disabled:!A,children:"创建"})]})]})}),d.jsx($t,{open:h,onClose:()=>I(!1),fullWidth:!0,maxWidth:"xs","aria-labelledby":"db-write-api-key-title",children:d.jsxs("form",{onSubmit:T,children:[d.jsx(Lt,{id:"db-write-api-key-title",children:"设置会话 API Key"}),d.jsxs(Ot,{children:[d.jsx(ht,{id:"db-write-api-key",name:"write_api_key",type:"password",value:p,onChange:B=>N(B.target.value),placeholder:"输入写接口 API Key",className:"mt-2 w-full","aria-label":"写接口 API Key",autoFocus:!0}),d.jsx("p",{className:"mt-2 text-xs text-muted",children:"仅保存在当前页面内存中，刷新页面后需要重新输入。"})]}),d.jsxs(Dt,{sx:{px:3,pb:2.5},children:[d.jsx(Se,{variant:"ghost",type:"button",onClick:()=>{m(),N(""),I(!1)},children:"清除"}),d.jsx(Se,{variant:"ghost",type:"button",onClick:()=>I(!1),children:"取消"}),d.jsx(Se,{variant:"ghost",type:"submit",disabled:!p.trim(),children:"保存"})]})]})})]})}function Ue(e){const t=be(e||"");return t&&t.split("/")[0]||""}function Bs({initialPath:e}){const[t,n]=a.useState(()=>Ue(e||"")),[o,r]=a.useState(()=>new Map),[s,i]=a.useState(()=>new Set([""])),[c,l]=a.useState([]),[b,v]=a.useState([]),[k,w]=a.useState(()=>new Set),[P,C]=a.useState(""),D=a.useRef(o),S=a.useRef(0),m=a.useMemo(()=>{const _=new Set([""]),A=o.get("");for(const x of A?.directories||[])_.add(Ue(x.path||""));return Array.from(_.values()).sort((x,y)=>x.localeCompare(y))},[o]),E=k.size,u=t?t.split("/"):[],f=a.useCallback(async(_,A=!1)=>{const x=Ue(_||""),y=D.current.get(x);if(!A&&y)return y;const T=await ke(`/api/docs/tree?path=${encodeURIComponent(x)}`),B={path:be(T.path||x),directories:Array.isArray(T.directories)?T.directories:[],files:Array.isArray(T.files)?T.files:[]};return r(W=>{const O=new Map(W);return O.set(B.path,B),B.path!==x&&O.set(x,B),D.current=O,O}),B},[]),h=a.useCallback(async(_,A=!1)=>{const x=Ue(_||"");await f("",A),x&&await f(x,A)},[f]),I=a.useCallback(_=>{const A=new Set(_.map(x=>be(x.relative_path||x.name||"")));w(x=>{const y=new Set;for(const T of x)A.has(T)&&y.add(T);return y})},[]),p=a.useCallback(async(_,A)=>{const x=S.current+1;S.current=x;const y=!!A?.push,T=!!A?.force,B=Ue(_||"");C("加载中...");try{await h(B,T);const W=await f(B,T);if(x!==S.current)return;const O=Ue(W.path||B);n(O),l(O?[]:W.directories||[]),v(W.files||[]),I(W.files||[]),i(X=>{const J=new Set(X);return J.add(""),O&&J.add(O),J}),y&&history.pushState({},"",Rn(O)),C("")}catch(W){if(x!==S.current)return;C(`加载失败：${String(W?.message||W)}`),l([]),v([])}},[f,h,I]),N=a.useCallback(async()=>{await p(t,{force:!0,push:!1})},[t,p]),F=a.useCallback(_=>{const A=new Set;for(const x of _){const y=be(x||"");y&&A.add(y)}w(A)},[]),L=a.useCallback(()=>{w(new Set)},[]),z=a.useCallback((_,A)=>{i(x=>{const y=new Set(x);return A?y.add(_):y.delete(_),y})},[]);return{currentPath:t,treeCache:o,expandedDirs:s,directories:c,files:b,selectedPaths:k,status:P,knownDirectories:m,selectedCount:E,breadcrumbParts:u,setStatus:C,setSelection:F,loadDirectory:p,refreshCurrentDirectory:N,ensureTreeNode:f,toggleExpandDir:z,clearSelection:L}}const zs=5e3;function Ws(e){return e==="success"?"success":e==="failed"?"failed":e==="running"?"running":"queued"}function Hs({onAllJobsSettled:e,pollIntervalMs:t=1500}={}){const[n,o]=a.useState([]),[r,s]=a.useState(()=>new Map),i=a.useRef(new Set),c=a.useRef(""),l=a.useRef(null),b=a.useRef(!1),v=a.useCallback((S,m)=>{const E=Ws(S.status),u=S,f=String(u.relative_path||u.filename||u.path||"-"),h=String(S.error||""),I=String(S.job_id||`${m}-${Date.now()}`);m==="import"&&f&&f!=="-"&&s(p=>{const N=new Map(p);return N.set(f,E),N}),o(p=>{const N=`${m}-${I}`,F=p.filter(L=>L.rowId!==N);return F.unshift({rowId:N,kind:m,status:E,pathText:f,error:h,updatedAt:Date.now()}),F.slice(0,80)})},[]),k=a.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]),w=a.useCallback(async()=>{if(!b.current){b.current=!0;try{const S=[],m=Array.from(i.current.values());if(m.length>0){const E=Math.min(zs,Math.max(200,m.length*2));let u=new Map;try{const f=await ke(`/api/import/jobs?limit=${E}`);for(const h of f.jobs||[]){const I=String(h.job_id||"").trim();I&&u.set(I,h)}}catch{u=new Map}if(u.size>0)for(const f of m){const h=u.get(f);h&&(v(h,"import"),["success","failed"].includes(String(h.status||""))&&S.push(f))}else for(const f of m)try{const h=await ke(`/api/import/${encodeURIComponent(f)}`);v(h,"import"),["success","failed"].includes(String(h.status||""))&&S.push(f)}catch{S.push(f)}}if(S.forEach(E=>i.current.delete(E)),c.current)try{const E=await ke(`/api/scan/${encodeURIComponent(c.current)}`);v(E,"scan"),["success","failed"].includes(String(E.status||""))&&(c.current="")}catch{c.current=""}i.current.size===0&&!c.current&&(k(),e&&await e())}finally{b.current=!1}}},[e,k,v]),P=a.useCallback(()=>{l.current===null&&(l.current=window.setInterval(()=>{w()},t))},[t,w]),C=a.useCallback(S=>{const m=String(S||"").trim();m&&(i.current.add(m),P())},[P]),D=a.useCallback(S=>{const m=String(S||"").trim();m&&(c.current=m,P())},[P]);return a.useEffect(()=>()=>{k()},[k]),{jobs:n,jobStatusByPath:r,upsertJob:v,startImportJob:C,startScanJob:D,stopAllPolling:k}}function Us(){const e=Date.now();return{upload:{phase:"idle",message:"",updatedAt:e},batchDelete:{phase:"idle",message:"",updatedAt:e},rescan:{phase:"idle",message:"",updatedAt:e},createFolder:{phase:"idle",message:"",updatedAt:e}}}function Re(e,t=""){return{mode:e,value:t,error:"",phase:"idle"}}const vn=3600*1e3,Ks=15e3,wn=.85;function Cn(e){return new Promise(t=>window.setTimeout(t,Math.max(0,e)))}function qs(e){const t=Number.parseInt(String(e||"").trim(),10);return!Number.isFinite(t)||t<=0?0:t*1e3}function Vs(e){if(!e||typeof e!="object")return 0;const n=e.details?.retry_after,o=Number.parseInt(String(n??"").trim(),10);return!Number.isFinite(o)||o<=0?0:o*1e3}function Xs(e){if(!e||typeof e!="object")return null;const t=e,n=t.queue_depth??t.details?.queue_depth,o=t.queue_capacity??t.details?.queue_capacity,r=Number.parseInt(String(n??"").trim(),10),s=Number.parseInt(String(o??"").trim(),10);return!Number.isFinite(r)||r<0||!Number.isFinite(s)||s<=0?null:{depth:r,capacity:s}}function Sn(e){return e?`（队列 ${e.depth}/${e.capacity}）`:""}function Gs(e){if(!e)return 0;const t=e.capacity>0?e.depth/e.capacity:0;if(t<wn)return 0;const o=500+Math.max(0,t-wn)*5e3;return Math.max(400,Math.min(6e3,Math.round(o)))}function Js({currentPath:e,visiblePaths:t,capabilities:n,writeApiKey:o,importDisabledReason:r,scanDisabledReason:s,refreshCurrentDirectory:i,clearSelection:c,setStatus:l,upsertJob:b,startImportJob:v,startScanJob:k}){const[w,P]=a.useState({}),[C,D]=a.useState(()=>Us()),[S,m]=a.useState(null),E=(o||"").trim(),u=!!n.write_auth_required,f="写操作已启用 API Key 鉴权，请先设置会话 API Key";a.useEffect(()=>{const j=new Set(t.map(M=>be(M||"")).filter(Boolean));P(M=>{const $={};for(const[g,R]of Object.entries(M))j.has(g)&&($[g]=R);return $})},[t]);const h=a.useCallback((j,M,$,g)=>{D(R=>({...R,[j]:{phase:M,message:$,updatedAt:Date.now(),...g?{error:g}:{}}})),m($?{phase:M,message:$}:null)},[]),I=a.useCallback(j=>w[j]||Re("normal"),[w]),p=a.useCallback((j,M)=>{P($=>({...$,[j]:M}))},[]),N=a.useCallback(j=>{P(M=>{const $={...M};return delete $[j],$})},[]),F=a.useCallback((j={})=>{const M={...j};return E&&(M["X-API-Key"]=E),M},[E]),L=a.useCallback(j=>!u||E?"":`${j}不可用：${f}`,[E,f,u]),z=a.useCallback(j=>{const M=(j.results||[]).filter($=>!$.ok);return M.length===0?"":M.slice(0,3).map($=>{const g=String($.path||"-");if(String($.error_code||"").toUpperCase()==="CONFLICT"){const H=Array.isArray($.details?.candidates)?$.details.candidates.slice(0,3).join(", "):"";return H?`${g}: 命名冲突，请使用完整相对路径，候选: ${H}`:`${g}: 命名冲突，请使用完整相对路径`}return`${g}: ${String($.error||"unknown error")}`}).join(" | ")},[]),_=a.useCallback(async j=>{if(!n.import_enabled){const R=r||"导入服务不可用";h("batchDelete","error",`删除不可用：${R}`,R),l(`删除不可用：${R}`);return}const M=L("删除文件");if(M){h("batchDelete","error",M,M),l(M);return}const $=j.map(R=>be(R||"")).filter(Boolean);if($.length===0)return;const g=`正在删除 ${$.length} 个文件...`;h("batchDelete","pending",g),l(g);try{const R=await ke("/api/docs/batch-delete",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({paths:$})}),H=z(R),V=H?`删除完成：成功 ${R.deleted}/${R.total}，失败 ${R.failed}（${H}）`:`删除完成：成功 ${R.deleted}/${R.total}，失败 ${R.failed}`,q=R.failed>0?"error":"success";h("batchDelete",q,V,R.failed>0?H||"partial failed":void 0),l(V),c(),await i()}catch(R){const H=String(R?.message||R);h("batchDelete","error",`删除失败：${H}`,H),l(`删除失败：${H}`)}},[n.import_enabled,F,c,L,z,r,i,l,h]),A=a.useCallback(async j=>{if(!n.import_enabled){const q=r||"导入服务不可用";h("upload","error",`上传不可用：${q}`,q),l(`上传不可用：${q}`);return}const M=L("上传");if(M){h("upload","error",M,M),l(M);return}if(j.length===0){l("请选择 PDF 文件");return}const $=`准备上传 ${j.length} 个文件...`;h("upload","pending",$),l($);let g=0,R=0;for(const q of j){let ee=!1,te=0;for(let U=0;;U+=1)try{const Y=await fetch(`/api/import?filename=${encodeURIComponent(q.name)}&target_dir=${encodeURIComponent(e)}`,{method:"POST",headers:F({Accept:"application/json","Content-Type":q.type||"application/pdf","X-File-Name":q.name,"X-Target-Dir":e}),body:q}),ne=await Y.json().catch(()=>({})),xe=Xs(ne);if(!Y.ok){const ye=String(ne.message||`${Y.status} ${Y.statusText}`),ve=Y.status===429||ye.toLowerCase().includes("queue is full"),ce=Math.max(qs(Y.headers.get("Retry-After")),Vs(ne)),Ce=new Error(ye);throw Ce.retryable=ve,Ce.retryAfterMs=ce,Ce.queueState=xe,Ce}g+=1,b(ne,"import"),v(String(ne.job_id||""));const fe=Gs(xe);if(fe>0){const ve=`上传队列接近饱和${Sn(xe)}，暂停 ${Math.ceil(fe/1e3)}s 以平滑提交`;h("upload","pending",ve),l(ve),await Cn(fe)}ee=!0;break}catch(Y){const ne=Y;if(!!ne.retryable){const fe=Math.min(Ks,Math.max(Number(ne.retryAfterMs||0),800*2**Math.min(U,6)));if(te+=fe,te>vn){const Ce=`上传队列长时间繁忙，单文件等待超过 ${Math.ceil(vn/1e3)}s：${q.name}`;R+=1,b({job_id:`error-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,filename:q.name,status:"failed",error:Ce},"import");break}const ye=Math.ceil(fe/1e3),ce=`上传队列繁忙${Sn(ne.queueState||null)}，${ye}s 后重试：${q.name}（第 ${U+1} 次重试，已提交 ${g}/${j.length}）`;h("upload","pending",ce),l(ce),await Cn(fe);continue}R+=1,b({job_id:`error-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,filename:q.name,status:"failed",error:String(ne?.message||ne)},"import");break}}const H=`上传提交完成：成功 ${g}/${j.length}，失败 ${R}`,V=R>0?"error":"success";h("upload",V,H,R>0?"partial failed":void 0),l(H)},[n.import_enabled,F,e,L,r,l,v,h,b]),x=a.useCallback(async(j,M)=>{if(!n.import_enabled){const R=r||"导入服务不可用";h("createFolder","error",`创建目录不可用：${R}`,R),l(`创建目录不可用：${R}`);return}const $=L("创建目录");if($){h("createFolder","error",$,$),l($);return}const g=j.trim();if(!g){h("createFolder","error","创建失败：请输入目录名","missing folder name");return}if(be(e)!==""){const R="仅支持在根目录创建子目录";h("createFolder","error",R,"root-only"),l(R);return}h("createFolder","pending",`正在创建目录：${g}`);try{await ke("/api/folders",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({path:e,name:g})}),M?.(),await i();const R=`创建目录成功：${be(e)||"/"} / ${g}`;h("createFolder","success",R),l("")}catch(R){const H=String(R?.message||R);h("createFolder","error",`创建失败：${H}`,H),l(`创建失败：${H}`)}},[F,n.import_enabled,e,L,r,i,l,h]),y=a.useCallback(j=>{const M=be(j).split("/").pop()||j;p(j,Re("renaming",M))},[p]),T=a.useCallback(async j=>{if(!n.import_enabled){const R=r||"导入服务不可用";p(j,{...Re("renaming"),error:R,phase:"error"});return}const M=L("目录改名");if(M){p(j,{...Re("renaming"),error:M,phase:"error"}),l(M);return}const $=I(j),g=$.value.trim();if(!g){p(j,{...$,error:"请输入新目录名",phase:"error"});return}if(g.includes("/")||g==="."||g===".."){p(j,{...$,error:"目录名不合法",phase:"error"});return}p(j,{...$,error:"",phase:"pending"});try{const R=await ke("/api/folders/rename",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({path:j,new_name:g})});p(j,{...$,phase:"success"}),N(j),l(`目录改名成功：${R.old_path} -> ${R.new_path}`),await i()}catch(R){const H=String(R?.message||R);p(j,{...$,error:H,phase:"error"})}},[F,n.import_enabled,N,L,I,r,i,p,l]),B=a.useCallback(async j=>{if(!n.import_enabled){const R=r||"导入服务不可用";h("batchDelete","error",`删除不可用：${R}`,R),l(`删除不可用：${R}`);return}const M=L("删除目录");if(M){h("batchDelete","error",M,M),l(M);return}const $=j.map(R=>be(R||"")).filter(Boolean);if($.length===0)return;const g=`正在删除 ${$.length} 个目录...`;h("batchDelete","pending",g),l(g);try{const R=await ke("/api/folders/delete",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({paths:$,recursive:!0})}),H=z(R),V=H?`目录删除完成：成功 ${R.deleted}/${R.total}，失败 ${R.failed}（${H}）`:`目录删除完成：成功 ${R.deleted}/${R.total}，失败 ${R.failed}`,q=R.failed>0?"error":"success";h("batchDelete",q,V,R.failed>0?H||"partial failed":void 0),l(V),await i()}catch(R){const H=String(R?.message||R);h("batchDelete","error",`目录删除失败：${H}`,H),l(`目录删除失败：${H}`)}},[F,n.import_enabled,L,z,r,i,l,h]),W=a.useCallback(async()=>{if(!n.scan_enabled){const M=s||"重扫服务不可用";h("rescan","error",`重扫不可用：${M}`,M),l(`重扫不可用：${M}`);return}const j=L("触发重扫");if(j){h("rescan","error",j,j),l(j);return}h("rescan","pending",`正在提交重扫任务：${be(e)||"/"}`);try{const M=await ke(`/api/scan?path=${encodeURIComponent(e)}`,{method:"POST",headers:F()}),$=String(M.job_id||"");if(!$)throw new Error("scan job id missing");b(M,"scan"),k($);const g=`重扫任务已提交：${$}`;h("rescan","success",g),l(g)}catch(M){const $=String(M?.message||M);h("rescan","error",`触发重扫失败：${$}`,$),l(`触发重扫失败：${$}`)}},[F,n.scan_enabled,e,L,s,l,k,h,b]),O=a.useCallback(j=>{const M=j.split("/").pop()||j;p(j,Re("renaming",M))},[p]),X=a.useCallback(j=>{p(j,Re("moving",e))},[e,p]),J=a.useCallback(async j=>{if(!n.import_enabled){const R=r||"导入服务不可用";p(j,{...Re("renaming"),error:R,phase:"error"});return}const M=L("文件改名");if(M){p(j,{...Re("renaming"),error:M,phase:"error"}),l(M);return}const $=I(j),g=$.value.trim();if(!g){p(j,{...$,error:"请输入新文件名",phase:"error"});return}p(j,{...$,error:"",phase:"pending"});try{const R=await ke("/api/docs/rename",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({path:j,new_name:g})});p(j,{...$,phase:"success"}),N(j),l(`改名成功：${R.old_path} -> ${R.new_path}`),await i()}catch(R){const H=String(R?.message||R);p(j,{...$,error:H,phase:"error"})}},[F,n.import_enabled,N,L,I,r,i,p,l]),Z=a.useCallback(async j=>{if(!n.import_enabled){const R=r||"导入服务不可用";p(j,{...Re("moving"),error:R,phase:"error"});return}const M=L("文件移动");if(M){p(j,{...Re("moving"),error:M,phase:"error"}),l(M);return}const $=I(j),g=be($.value||"");p(j,{...$,error:"",phase:"pending"});try{const R=await ke("/api/docs/move",{method:"POST",headers:F({"Content-Type":"application/json"}),body:JSON.stringify({path:j,target_dir:g})});p(j,{...$,phase:"success"}),N(j),l(`移动成功：${R.old_path} -> ${R.new_path}`),await i()}catch(R){const H=String(R?.message||R);p(j,{...$,error:H,phase:"error"})}},[F,n.import_enabled,N,L,I,r,i,p,l]),Q=a.useMemo(()=>({getRowActionState:I,setRowActionState:p,clearRowActionState:N,beginRename:O,beginFolderRename:y,beginMove:X,applyRename:J,applyFolderRename:T,applyMove:Z}),[T,Z,J,y,X,O,N,I,p]);return{globalActionState:C,actionFeedback:S,rowActions:Q,deleteSelected:_,deleteFolders:B,submitUploads:A,createFolder:x,triggerRescan:W}}function Ys(){const[e,t]=a.useState(""),[n,o]=a.useState(""),[r,s]=a.useState(!1),[i,c]=a.useState(!1),[l,b]=a.useState([]),[v,k]=a.useState({import_enabled:!0,scan_enabled:!0,import_reason:"",scan_reason:"",write_auth_mode:"disabled",write_auth_required:!1,legacy_folder_routes_enabled:!0,directory_policy:"single_level",path_policy_warning_count:0}),w=Bs({initialPath:Pt(window.location.search)}),P=w.setStatus,C=v.import_enabled?"":String(v.import_reason||"导入服务不可用"),D=v.scan_enabled?"":String(v.scan_reason||"重扫服务不可用"),S=a.useCallback(async()=>{try{const p=await ke("/api/capabilities");k({import_enabled:!!p.import_enabled,scan_enabled:!!p.scan_enabled,import_reason:String(p.import_reason||""),scan_reason:String(p.scan_reason||""),write_auth_mode:p.write_auth_mode==="api_key"?"api_key":"disabled",write_auth_required:!!p.write_auth_required,legacy_folder_routes_enabled:!!p.legacy_folder_routes_enabled,directory_policy:"single_level",path_policy_warning_count:Number(p.path_policy_warning_count||0)})}catch(p){const N=String(p?.message||p);P(`加载能力信息失败：${N}`)}},[P]),m=Hs({onAllJobsSettled:async()=>{await w.refreshCurrentDirectory()}}),E=a.useMemo(()=>{const p=w.directories.map(F=>({name:String(F.name||F.path||"").split("/").pop()||F.path||"-",relative_path:F.path,indexed:!0,is_dir:!0})),N=w.files.map(F=>({...F,is_dir:!1}));return[...p,...N]},[w.directories,w.files]),u=Js({currentPath:w.currentPath,visiblePaths:E.map(p=>p.relative_path),capabilities:v,writeApiKey:n,importDisabledReason:C,scanDisabledReason:D,refreshCurrentDirectory:w.refreshCurrentDirectory,clearSelection:w.clearSelection,setStatus:w.setStatus,upsertJob:m.upsertJob,startImportJob:m.startImportJob,startScanJob:m.startScanJob}),f=a.useCallback(p=>{const N=p.map(F=>({path:String(F.path||"").trim(),kind:F.kind})).filter(F=>!!F.path);N.length!==0&&(b(N),c(!0))},[]),h=a.useCallback(()=>{c(!1),b([])},[]),I=a.useCallback(async()=>{const p=[...l];if(h(),p.length===0)return;const N=p.filter(L=>L.kind==="file").map(L=>L.path),F=p.filter(L=>L.kind==="directory").map(L=>L.path);N.length>0&&await u.deleteSelected(N),F.length>0&&await u.deleteFolders(F)},[h,l,u]);return a.useEffect(()=>{u.actionFeedback?.message&&s(!0)},[u.actionFeedback]),a.useEffect(()=>{const p=()=>{w.loadDirectory(Pt(window.location.search),{push:!1,force:!1})};return window.addEventListener("popstate",p),S(),w.loadDirectory(Pt(window.location.search),{push:!1,force:!0}),()=>{window.removeEventListener("popstate",p),m.stopAllPolling()}},[]),d.jsxs(Xn,{actions:[{href:"/search.html",label:"搜索"}],hideHeaderTitle:!0,backHref:w.currentPath?"/db.html":"/",children:[d.jsx("div",{className:"grid gap-4",children:d.jsxs(ao,{className:"grid min-w-0 gap-4 p-4",children:[d.jsx(_s,{currentPath:w.currentPath,breadcrumbParts:w.breadcrumbParts,directoryCount:w.directories.length,status:w.status,selectedCount:w.selectedCount,fileCount:w.files.length,folderName:e,onFolderNameChange:t,capabilities:v,writeApiKeyConfigured:!!n.trim(),importDisabledReason:C,onSetWriteApiKey:o,onClearWriteApiKey:()=>o(""),onNavigate:p=>{w.loadDirectory(p,{push:!0,force:!1})},onUploadFiles:p=>{u.submitUploads(p)},onDeleteSelected:()=>f(Array.from(w.selectedPaths).map(p=>({path:p,kind:"file"}))),onRefresh:()=>{w.refreshCurrentDirectory()},onCreateFolder:()=>{u.createFolder(e,()=>{t("")})}}),d.jsx(Ls,{items:E,selectedPaths:w.selectedPaths,onSelectionChange:w.setSelection,knownDirectories:w.knownDirectories,capabilitiesImportEnabled:v.import_enabled,importDisabledReason:C,getRowActionState:u.rowActions.getRowActionState,onSetRowActionState:u.rowActions.setRowActionState,onClearRowActionState:u.rowActions.clearRowActionState,onBeginRename:u.rowActions.beginRename,onBeginMove:u.rowActions.beginMove,onApplyRename:p=>{u.rowActions.applyRename(p)},onBeginDirectoryRename:u.rowActions.beginFolderRename,onApplyDirectoryRename:p=>{u.rowActions.applyFolderRename(p)},onApplyMove:p=>{u.rowActions.applyMove(p)},onDeleteSingle:p=>f([{path:p,kind:"file"}]),onDeleteDirectory:p=>f([{path:p,kind:"directory"}]),onOpenDirectory:p=>{w.loadDirectory(p,{push:!0,force:!1})}})]})}),d.jsxs($t,{open:i,onClose:h,fullWidth:!0,maxWidth:"sm","aria-labelledby":"db-delete-dialog-title",children:[d.jsx(Lt,{id:"db-delete-dialog-title",children:"确认删除"}),d.jsx(Ot,{children:d.jsxs("div",{className:"mt-1 text-sm text-text",children:["将删除 ",l.length," 个条目（目录会递归删除），对应数据库记录和磁盘文件都会被移除。"]})}),d.jsxs(Dt,{sx:{px:3,pb:2.5},children:[d.jsx(Se,{variant:"ghost",onClick:h,children:"取消"}),d.jsx(Se,{variant:"danger",onClick:()=>{I()},children:"确认删除"})]})]}),d.jsx(js,{open:r,autoHideDuration:2800,onClose:()=>s(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:d.jsx(io,{onClose:()=>s(!1),severity:u.actionFeedback?.phase==="error"?"error":u.actionFeedback?.phase==="pending"?"info":"success",variant:"filled",children:u.actionFeedback?.message||"操作完成"})})]})}Gn.createRoot(document.getElementById("root")).render(d.jsx(qe.StrictMode,{children:d.jsx(Jn,{children:d.jsx(Ys,{})})}));
