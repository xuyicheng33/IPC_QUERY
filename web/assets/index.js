import{c as m,r as o,j as e,C as n,B as l,a as x,R as h}from"./chunks/Card.js";import{A as p,S as u}from"./chunks/urlState.js";import{I as f}from"./chunks/Input.js";import{r as g}from"./chunks/storageCompat.js";const j=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N=m("clock-3",j);function b(){const[a,i]=o.useState(""),c=o.useMemo(()=>g().slice(0,8),[]),d=s=>{s.preventDefault();const r=a.trim();if(!r)return;const t=new URLSearchParams;t.set("q",r),t.set("match","pn"),t.set("page","1"),window.location.href=`/search?${t.toString()}`};return e.jsx(p,{actions:[{href:"/db",label:"数据库"}],children:e.jsxs("div",{className:"mx-auto grid max-w-[920px] gap-4",children:[e.jsxs(n,{className:"p-8",children:[e.jsx("h1",{className:"text-[30px] font-semibold tracking-tight",children:"Swiss Spa Precision Search"}),e.jsx("p",{className:"mt-2 max-w-[680px] text-sm text-muted",children:"输入件号或术语关键字，快速定位 IPC 数据。界面采用克制配色和精确间距，优先提升专业检索效率。"}),e.jsxs("form",{onSubmit:d,className:"mt-6 flex items-center gap-3",children:[e.jsx(f,{value:a,onChange:s=>i(s.target.value),className:"h-11 flex-1",placeholder:"输入件号或术语关键字","aria-label":"搜索关键字"}),e.jsxs(l,{variant:"primary",type:"submit",className:"h-11 gap-2 px-5",children:[e.jsx(u,{className:"h-4 w-4","aria-hidden":"true"}),"搜索"]})]})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-medium text-text",children:[e.jsx(N,{className:"h-4 w-4 text-muted","aria-hidden":"true"}),"最近搜索"]}),c.length===0?e.jsx("p",{className:"text-sm text-muted",children:"暂无历史"}):e.jsx("div",{className:"grid gap-2",children:c.map((s,r)=>{const t=new URLSearchParams;return t.set("q",s.q),t.set("match",s.match),t.set("page","1"),s.include_notes&&t.set("include_notes","1"),s.source_dir&&t.set("source_dir",s.source_dir),s.source_pdf&&t.set("source_pdf",s.source_pdf),e.jsx("a",{href:`/search?${t.toString()}`,className:"rounded-md border border-border bg-surface px-3 py-2 text-sm transition-colors duration-fast ease-premium hover:bg-surface-soft",children:s.q},`${s.q}-${r}`)})})]})]})})}x.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(b,{})}));
