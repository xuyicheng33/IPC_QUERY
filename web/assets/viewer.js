import{r as o,j as e,c as i,R as d,A as m}from"./chunks/AppProviders.js";import{D as p,C as l}from"./chunks/Card.js";import{p as u}from"./chunks/urlState.js";function f(s,r){const t=Number.parseInt(String(s||""),10);return Number.isFinite(t)&&t>0?t:r}function x(){const s=o.useMemo(()=>new URLSearchParams(window.location.search||""),[]),r=String(s.get("pdf")||"").trim(),t=f(s.get("page"),1),a=!!r,c=o.useMemo(()=>u(window.location.search,"/search.html"),[]),n=o.useMemo(()=>a?`/pdf/${encodeURIComponent(r)}#page=${t}`:"",[a,t,r]);return o.useEffect(()=>{n&&window.location.replace(n)},[n]),e.jsx(p,{backHref:c,contentClassName:"py-6",children:e.jsx(l,{className:"grid gap-3 p-4",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-muted",children:"正在跳转到浏览器内置 PDF 查看器..."}),e.jsx("a",{href:n,className:"text-sm font-medium text-accent hover:underline",children:"若未自动跳转，点击这里打开 PDF"})]}):e.jsx("div",{className:"text-sm text-muted",children:"缺少 `pdf` 参数，请从详情页重新打开 PDF。"})})})}i.createRoot(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(m,{children:e.jsx(x,{})})}));
